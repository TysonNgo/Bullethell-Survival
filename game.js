!function o(r,a,u){function c(e,t){if(!a[e]){if(!r[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(h)return h(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var s=a[e]={exports:{}};r[e][0].call(s.exports,function(t){return c(r[e][1][t]||t)},s,s.exports,o,r,a,u)}return a[e].exports}for(var h="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,e,n){"use strict";function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function t(e,n){o(this,t),this.button=e,this.down=n,this.held=!1};e.exports=function(){function t(){o(this,t),this.up=new r("up",!1),this.down=new r("down",!1),this.left=new r("left",!1),this.right=new r("right",!1),this.shoot=new r("shoot",!1),this.shield=new r("shield",!1),this.keys={ArrowUp:this.up,ArrowDown:this.down,ArrowLeft:this.left,ArrowRight:this.right,KeyX:this.shoot,KeyZ:this.shield}}var e,n,i;return e=t,(n=[{key:"getKey",value:function(t){if(~["up","down","left","right","shoot","shield"].indexOf(t))for(var e in t=this[t],this.keys)if(this.keys[e]===t)return e}},{key:"changeKey",value:function(t,e){var n;if(~["up","down","left","right","shoot","shield"].indexOf(t))if(e in this.keys){if((n=this.keys[e]).button===t)return!1;for(var i in this.keys)if(this.keys[i].button===t)return this.keys[e]=this.keys[i],this.keys[i]=n,!0}else for(var s in this.keys)if(this.keys[s].button===t)return this.keys[e]=this.keys[s],delete this.keys[s],!0;return!1}},{key:"press",value:function(t){t in this.keys&&(this.keys[t].down&&(this.keys[t].held=!0),this.keys[t].down=!0)}},{key:"release",value:function(t){t in this.keys&&(this.keys[t].down=!1,this.keys[t].held=!1)}},{key:"releaseAll",value:function(){for(var t in this.keys)this.keys[t].down=!1}},{key:"pressingButton",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return~["up","down","left","right","shoot","shield"].indexOf(t)?this[t].down:Object.values(this.keys).some(function(t){return t.down})}},{key:"buttonHeld",value:function(t){return!!~["up","down","left","right","shoot","shield"].indexOf(t)&&this[t].held}}])&&s(e.prototype,n),i&&s(e,i),t}()},{}],2:[function(t,e,n){"use strict";function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.exports=function(){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.scene=t,this.speedlines=Array(100);for(var e=0;e<this.speedlines.length;e++)this.speedlines[e]=this.scene.add.sprite(Math.random()*this.scene.game.canvas.width,Math.random()*this.scene.game.canvas.height,"speedline"),this.speedlines[e].depth=-100}var t,e,i;return t=n,i=[{key:"loadAssets",value:function(t){t.load.image("speedline","assets/game/speedline.png")}}],(e=[{key:"update",value:function(){for(var t=0;t<this.speedlines.length;t++)this.speedlines[t].y+=20,this.speedlines[t].y>this.scene.game.canvas.height+this.speedlines[t].height&&(this.speedlines[t].x=Math.random()*this.scene.game.canvas.width,this.speedlines[t].y=Math.random()*this.scene.game.canvas.height,this.speedlines[t].setScale(1,1.5*Math.random()+.7))}}])&&s(t.prototype,e),i&&s(t,i),n}()},{}],3:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.exports=function(){function s(t,e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.x=t,this.y=e,this.width=n,this.height=i,this.active=!0,this.hitboxes=[],this.addHitboxes()}var t,e,n;return t=s,n=[{key:"loadAssets",value:function(t){}}],(e=[{key:"addHitboxes",value:function(){this.hitboxes.push({x:-this.width/2,y:-this.height/2,width:this.width,height:this.height})}},{key:"collidesWith",value:function(r){var a=this,t=this.hitboxes,e=r.hitboxes,u=!1;return t.forEach(function(o){e.forEach(function(t){var e=a.x+o.x,n=a.y+o.y,i=r.x+t.x,s=r.y+t.y;e<i+t.width&&e+o.width>i&&n<s+t.height&&n+o.height>s&&(u=!0)})}),u}},{key:"update",value:function(){}}])&&i(t.prototype,e),n&&i(t,n),s}()},{}],4:[function(t,e,n){"use strict";function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.exports=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.frames=0,this._stop=!1,this.text=this.scene.add.text(this.scene.game.canvas.width-41,30,"",{fontFamily:"Kong Text",fill:"#000",backgroundColor:"rgba(255,255,255,0.5)"}),this.text.setOrigin(1),this.text.depth=1e3,this.textMM=this.scene.add.text(this.scene.game.canvas.width-5,30,".00",{fontFamily:"Kong Text",fill:"#000",fontSize:"12px",backgroundColor:"rgba(255,255,255,0.5)"}),this.textMM.setOrigin(1),this.textMM.depth=1e3}var t,n,i;return t=e,(n=[{key:"getHHMMSS",value:function(t){var e=(t=t||this.frames)/this.scene.game.loop.targetFps,n=e/60,i=((e%=60)-Math.floor(e)).toFixed(2).substr(1);e=Math.floor(e);var s=Math.floor(n/60);return n=Math.floor(n%60),{h:("00"+s).slice(-2),m:("00"+n).slice(-2),s:("00"+e).slice(-2),mm:i}}},{key:"stop",value:function(){this._stop=!0,this.text.alpha=.3,this.textMM.alpha=.3}},{key:"update",value:function(){if(!this._stop){this.frames++;var t=this.getHHMMSS(),e=t.h,n=t.m,i=t.s,s=t.mm;this.text.setText("".concat(e,":").concat(n,":").concat(i)),this.textMM.setText(s)}}}])&&s(t.prototype,n),i&&s(t,i),e}()},{}],5:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=t("../Entity"),i=t("../trapInBounds"),l=t("./Patterns"),f=t("./projectiles/Radar"),p=t("./projectiles/Orb"),y=t("./projectiles/Missile"),b=t("./ProjectileContainer"),r=function(t){function r(t,e,n){var i,s,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),s=this,(i=!(o=u(r).call(this,e,n,125,110))||"object"!==a(o)&&"function"!=typeof o?c(s):o).scene=t,i.scene.addObject("boss",c(c(i))),i.fastSFX=i.scene.sound.add("bossFast"),i.shakeSFX=i.scene.sound.add("bossShake"),i.retreatSFX=i.scene.sound.add("bossRetreat"),i.USweepSFX=i.scene.sound.add("bossUSweep"),i.orbSFX=i.scene.sound.add("bossOrb"),i.chargeSFX=i.scene.sound.add("bossCharge"),i.chargedOrbSFX=i.scene.sound.add("bossChargedOrb"),i.missileSFX=i.scene.sound.add("bossMissile"),i.trackSFX=i.scene.sound.add("bossTrack"),i.radarSFX=i.scene.sound.add("bossRadar"),i.createAnimations(),i.patterns=new l(c(c(i))),i.sprite=i.scene.add.sprite(i.x,i.y,"boss"),i.spriteJetfire=i.scene.add.sprite(i.x,i.y,"boss_jetfire"),i.spriteJetfire.anims.play("boss_jetfire_animation"),i.numPatterns=5,i.chargedOrb=new b(c(c(i)),p,i.numPatterns,"charged"),i.linearRadialOrbs=new b(c(c(i)),p,160*i.numPatterns,"linear"),i.spiralOrbs=new b(c(c(i)),p,160*i.numPatterns,"spiral"),i.radars=new b(c(c(i)),f,i.numPatterns),i.twinMissiles=new b(c(c(i)),y,2*i.numPatterns),i.slowMissile=new b(c(c(i)),y,i.numPatterns),i}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(r,h),e=r,i=[{key:"loadAssets",value:function(t){l.loadAssets(t),t.load.spritesheet("boss","assets/game/boss/boss.png",{frameWidth:214,frameHeight:191}),t.load.spritesheet("boss_jetfire","assets/game/boss/jetfire.png",{frameWidth:214,frameHeight:191}),t.load.audio("bossFast",["assets/audio/bossFast.mp3","assets/audio/bossFast.ogg"]),t.load.audio("bossShake",["assets/audio/bossShake.mp3","assets/audio/bossShake.ogg"]),t.load.audio("bossRetreat",["assets/audio/bossRetreat.mp3","assets/audio/bossRetreat.ogg"]),t.load.audio("bossUSweep",["assets/audio/bossUSweep.mp3","assets/audio/bossUSweep.ogg"]),t.load.audio("bossOrb",["assets/audio/bossOrb.mp3","assets/audio/bossOrb.ogg"]),t.load.audio("bossCharge",["assets/audio/bossCharge.mp3","assets/audio/bossCharge.ogg"]),t.load.audio("bossChargedOrb",["assets/audio/bossChargedOrb.mp3","assets/audio/bossChargedOrb.ogg"]),t.load.audio("bossMissile",["assets/audio/bossMissile.mp3","assets/audio/bossMissile.ogg"]),t.load.audio("bossTrack",["assets/audio/bossTrack.mp3","assets/audio/bossTrack.ogg"]),t.load.audio("bossRadar",["assets/audio/bossRadar.mp3","assets/audio/bossRadar.ogg"])}}],(n=[{key:"setRotation",value:function(t){this.sprite.angle=t,this.spriteJetfire.angle=t}},{key:"addHitboxes",value:function(){this.hitboxes.push({x:-30.5,y:-59,width:65,height:110},{x:-59.5,y:-19,width:123,height:62},{x:-70.5,y:23,width:145,height:13})}},{key:"createAnimations",value:function(){l.createAnimations(this.scene),this.scene.anims.create({key:"boss_hit_animation",frames:this.scene.anims.generateFrameNumbers("boss",{start:0,end:2}),frameRate:12,yoyo:!0}),this.scene.anims.create({key:"boss_jetfire_animation",frames:this.scene.anims.generateFrameNumbers("boss_jetfire",{start:0,end:3}),frameRate:8,repeat:-1})}},{key:"random",value:function(){return Math.random()}},{key:"removeAnimations",value:function(){l.removeAnimations(this.scene),this.scene.anims.remove("boss_hit_animation"),this.scene.anims.remove("boss_jetfire_animation")}},{key:"hit",value:function(){this.sprite.anims.isPlaying||this.sprite.anims.play("boss_hit_animation")}},{key:"updateSprite",value:function(){this.spriteJetfire.visible=this.active,this.sprite.visible=this.active,this.spriteJetfire.x=this.x,this.spriteJetfire.y=this.y,this.sprite.x=this.x,this.sprite.y=this.y}},{key:"updateProjectiles",value:function(){this.radars.forEach(function(t){return t.update()}),this.linearRadialOrbs.forEach(function(t){return t.update()}),this.spiralOrbs.forEach(function(t){return t.update()}),this.chargedOrb.forEach(function(t){return t.update()}),this.twinMissiles.forEach(function(t){return t.update()}),this.slowMissile.forEach(function(t){return t.update()})}},{key:"update",value:function(){this.updateSprite(),this.updateProjectiles(),this.patterns.exec()}}])&&s(e.prototype,n),i&&s(e,i),r}();i(r),e.exports=r},{"../Entity":3,"../trapInBounds":35,"./Patterns":20,"./ProjectileContainer":21,"./projectiles/Missile":22,"./projectiles/Orb":23,"./projectiles/Radar":24}],6:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern");e.exports=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,a(e).call(this,t))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),n=e,(i=[{key:"update",value:function(){var t=this._update,e=this.boss.chargedOrb.get();return e&&!e.shoot&&(e.x=this.boss.x+1,e.y=this.boss.y+58,this.boss.chargeSFX.play({delay:.1}),e.chargeAndShoot()),e&&e.y>=this.boss.scene.game.canvas.height?(this.boss.patterns.finish(),t):function(){this.updateProjectiles(),!e||e.shoot?(this.update=t,this.patterns.finish()):(e.x=this.x+1,e.y=this.y+58)}}}])&&o(n.prototype,i),s&&o(n,s),e}()},{"./Pattern":9}],7:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern");e.exports=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,a(e).call(this,t))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),n=e,(i=[{key:"update",value:function(){var t=this._update,e=!1,n=!1,i=this.boss.x,s=this.boss.y,o=0,r=this.boss.scene.game.canvas.width,a=this.boss.random()*(r-0)+0,u=320*this.boss.random()+65;return function(){if(this.updateProjectiles(),n)return this.x=Math.round(this.x),this.y=Math.round(this.y),this.update=t,void this.patterns.finish();e?(10<=o&&(n=!0),this.x+=(a-i)/10,this.y+=(u-s)/10):(0===o&&this.shakeSFX.play(),o%4==0&&(this.x=i+Math.floor((.5<this.random()?1:-1)*this.random()*10),this.y=s+Math.floor((.5<this.random()?1:-1)*this.random()*10)),(o+1)%40==0&&(this.x=i,this.y=s,e=!0,o=0,this.fastSFX.play())),this.updateSprite(),o++}}}])&&o(n.prototype,i),s&&o(n,s),e}()},{"./Pattern":9}],8:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern");e.exports=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,a(e).call(this,t))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),n=e,(i=[{key:"update",value:function(){var t=this._update,e=0,n=10;return function(){if(n<=0&&(this.update=t,this.patterns.finish()),e%15==0&&0<n){var i=this.linearRadialOrbs.get(16);if(i){this.orbSFX.play();var s=Math.PI*this.random();i.forEach(function(t,e){var n=2*Math.PI/i.length*e+s;t.angle=n,t.fire()})}n--}this.updateProjectiles(),e++}}}])&&o(n.prototype,i),s&&o(n,s),e}()},{"./Pattern":9}],9:[function(t,e,n){"use strict";function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.exports=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.boss=t,this._update=this.boss.update}var t,n,i;return t=e,(n=[{key:"update",value:function(){}},{key:"exec",value:function(){this.boss.update=this.update()}}])&&s(t.prototype,n),i&&s(t,i),e}()},{}],10:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern");t("../projectiles/Radar");e.exports=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,a(e).call(this,t))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),n=e,(i=[{key:"update",value:function(){var t=this._update,e=this.boss.radars.get();e&&!e.start&&(this.boss.radarSFX.play(),e.start=!0,e.x=this.boss.x,e.y=this.boss.y);var n=0;return function(){30<=n&&(this.update=t,this.patterns.finish()),t.call(this),n++}}}])&&o(n.prototype,i),s&&o(n,s),e}()},{"../projectiles/Radar":24,"./Pattern":9}],11:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern");e.exports=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,a(e).call(this,t))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),n=e,(i=[{key:"update",value:function(){var t=this._update,e=this.boss.x,n=this.boss.y,i=this.boss.random()*this.boss.scene.game.canvas.width,s=1;return this.boss.retreatSFX.play(),function(){if(50<=s)return this.x=Math.round(i),this.y=Math.round(65),this.update=t,void this.patterns.finish();s%5==0&&(this.x+=(i-e)*Math.pow(2,-s/5),this.y+=(65-n)*Math.pow(2,-s/5)),t.call(this),s++}}}])&&o(n.prototype,i),s&&o(n,s),e}()},{"./Pattern":9}],12:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern");e.exports=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,a(e).call(this,t))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),n=e,(i=[{key:"update",value:function(){var t=this._update,e=this.boss.scene.game.canvas.width,n=this.boss.x<e/2,i=this.boss.x,s=this.boss.y,o=e*n+Math.pow(-1,n)*(this.boss.width/2),r=Math.abs(o-i)/2,a=0;return function(){if(this.x=i+Math.pow(-1,!n)*a*2,this.y=s+30*Math.sin(a/8),r<=a)return this.x=Math.round(this.x),this.y=Math.round(this.y),this.update=t,void this.patterns.finish();t.call(this),a++}}}])&&o(n.prototype,i),s&&o(n,s),e}()},{"./Pattern":9}],13:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern");e.exports=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,a(e).call(this,t))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),n=e,(i=[{key:"update",value:function(){var t=this._update,e=this.boss.slowMissile.get();e&&(this.boss.missileSFX.play(),e.active=!0,e.fired=!0,e.x=this.boss.x,e.y=this.boss.y,e.speed=4);var n=0;return function(){if(t.call(this),30<=n)return this.update=t,void this.patterns.finish();n++}}}])&&o(n.prototype,i),s&&o(n,s),e}()},{"./Pattern":9}],14:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern");e.exports=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,a(e).call(this,t))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),n=e,(i=[{key:"update",value:function(){var t=this._update,e=2*this.boss.random()*Math.PI,n=Math.floor(75*this.boss.random()+50),i=Math.cos(e)*n,s=Math.sin(e)*n,o=1,r=o,a=Math.pow(Math.pow(o,2)/(Math.pow(i,2)+Math.pow(s,2)),.5);return i*=a,s*=a,function(){if(n<o)return this.x=Math.round(this.x),this.y=Math.round(this.y),this.update=t,void this.patterns.finish();this.x+=i,this.y+=s,t.call(this),o+=r}}}])&&o(n.prototype,i),s&&o(n,s),e}()},{"./Pattern":9}],15:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern");e.exports=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,a(e).call(this,t))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),n=e,(i=[{key:"update",value:function(){var t=this._update,e=0,n=10;return function(){if(n<=0&&(this.update=t,this.patterns.finish()),e%15==0&&0<n){var i=this.spiralOrbs.get(16);i&&(this.orbSFX.play(),i.forEach(function(t,e){var n=2*Math.PI/i.length*e;t.angle=n,t.fire()})),n--}this.updateProjectiles(),e++}}}])&&o(n.prototype,i),s&&o(n,s),e}()},{"./Pattern":9}],16:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern"),h=t("../projectiles/Teleport");e.exports=function(t){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=r(this,a(n).call(this,t))).teleport=new h(e.boss),e}var e,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,c),e=n,(i=[{key:"update",value:function(){var e=this.teleport,n=this._update,i=!1,s=!1,o=!1,r=0;return this.teleport.active=!0,this.teleport.sprite.anims.play("boss_teleport_animation"),this.teleport.sprite.on("animationcomplete",function(t,e){this.anims._reverse||(i=!0),this.visible=!1},this.teleport.sprite),function(){if(this.updateProjectiles(),o)return 30<=r&&(this.update=n,this.patterns.finish()),r++,void this.updateSprite();if(i){if(this.active=!1,e.active=!1,this.scene.objects.player){var t=this.random()*(Math.PI-2*Math.PI/4)+Math.PI/4;this.x=Math.floor(this.scene.objects.player[0].x+200*Math.cos(t)),this.y=Math.floor(this.scene.objects.player[0].y+(this.scene.objects.player[0].y<200?1:-1)*Math.sin(t)*200)}return n.call(this),void(s=!(i=!1))}s&&(e.SFX.play(),e.active=!0,this.active=!0,e.sprite.anims.playReverse("boss_teleport_animation"),o=!(s=!1)),e.update()}}}])&&o(e.prototype,i),s&&o(e,s),n}()},{"../projectiles/Teleport":25,"./Pattern":9}],17:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern");e.exports=function(t){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=r(this,a(n).call(this,t)))._hit=t.hit,e.graphics=t.scene.add.graphics({lineStyle:{color:5592405,width:5}}),e.graphics.depth=-5,e}var e,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,c),e=n,(i=[{key:"update",value:function(){var e=this._update,n=this._hit,i=0,s=this.graphics,o=this.boss.scene.objects.player;if(!o)return this.boss.patterns.finish(),e;o=o[0];var r,a,u,c,h,l,f,p,y=!(this.boss.hit=function(){n.call(this),i++}),b=!1,d=0,m=0,g=this.boss.x,v=this.boss.y;return this.boss.trackSFX.play(),function(){if(s.clear(),b)return this.hit=n,this.update=e,this.patterns.finish(),void(this.sprite.tint=void 0);60<d&&!y&&(y=!0,this.fastSFX.play());var t=parseInt((d%16+"").repeat(6),16);if(this.sprite.tint=t,y){m+=20,f=Math.pow(Math.pow(20,2)/(Math.pow(r,2)+Math.pow(a,2)),.5),this.x+=f*r,this.y+=f*a,p<=m&&(b=!0)}else u=this.x+2,h=this.y+55,r=o.x-u,a=o.y-h,f=Math.max(1-i/12,.25),c=u+f*r,l=h+f*a,r=o.x-g,a=o.y-v,p=Math.pow(Math.pow(f*r,2)+Math.pow(f*a,2),.5),s.beginPath(),s.moveTo(u,h),s.lineTo(c,l),s.closePath(),s.strokePath();e.call(this),d++}}}])&&o(e.prototype,i),s&&o(e,s),n}()},{"./Pattern":9}],18:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern");e.exports=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,a(e).call(this,t))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),n=e,(i=[{key:"update",value:function(){var t,e,n=this,i=this._update,s=this.boss.twinMissiles.get(2);s&&(s.forEach(function(t){t.active=!0,t.x=n.boss.x,t.y=n.boss.y}),t=s[0],e=s[1]);var o=0;return function(){if(i.call(this),30<=o||!s)return this.update=i,void this.patterns.finish();25===o?(this.missileSFX.play(),t.fired=!0,e.fired=!0,t.speed=e.speed):(t.x-=2,t.y-=2,e.x+=2,e.y=t.y),o++}}}])&&o(n.prototype,i),s&&o(n,s),e}()},{"./Pattern":9}],19:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("./Pattern");e.exports=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r(this,a(e).call(this,t))}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),n=e,(i=[{key:"update",value:function(){var t=this._update,e=!1,n=0,i=this.boss.hitboxes,s=[{x:-this.boss.width/2,y:-this.boss.height/2,width:this.boss.width,height:this.boss.height}];return function(){if(e)return this.update=t,void this.patterns.finish();switch(n){case 0:235<this.y?n++:e=!0;break;case 1:this.y>-this.height?this.y-=10:(this.hitboxes=s,this.y=-40,this.x=this.scene.game.canvas.width-this.width/2,n++,this.USweepSFX.play());break;case 2:this.y+=40,this.y>=this.scene.game.canvas.height-40&&(this.y=this.scene.game.canvas.height-this.height/2,n++);break;case 3:this.x-=40,this.x<=this.width/2&&n++,this.setRotation(90);break;case 4:this.y-=40,this.y<=-this.height&&(this.x=this.scene.game.canvas.width/2,this.hitboxes=i,n++),this.setRotation(180);break;case 5:this.y<this.scene.game.canvas.height/4?this.y+=10:e=!0,this.setRotation(0)}this.updateSprite(),this.updateProjectiles()}}}])&&o(n.prototype,i),s&&o(n,s),e}()},{"./Pattern":9}],20:[function(t,e,n){"use strict";function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=t("../projectiles/Missile"),r=t("../projectiles/Orb"),a=(t("../projectiles/Radar"),t("../projectiles/Teleport")),u=t("./Teleport"),c=t("./SlowMove"),h=t("./FastMove"),l=t("./Retreat"),f=t("./SineMove"),p=t("./USweep"),y=t("./TrackTackle"),b=t("./LinearRadialOrb"),d=t("./SpiralOrb"),m=t("./ChargedOrb"),g=t("./RadarAttack"),v=t("./SlowMissile"),w=t("./TwinMissiles");e.exports=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.boss=t,this.canExec=!0,this.patterns=[new c(this.boss),new f(this.boss),new h(this.boss),new m(this.boss),new u(this.boss),new b(this.boss),new d(this.boss),new w(this.boss),new p(this.boss),new y(this.boss),new l(this.boss),new v(this.boss),new g(this.boss)],this.p=Array(this.patterns.length).fill(1/this.patterns.length),this.n30s=0}var t,n,i;return t=e,i=[{key:"loadAssets",value:function(t){o.loadAssets(t),r.loadAssets(t),a.loadAssets(t)}},{key:"createAnimations",value:function(t){o.createAnimations(t),r.createAnimations(t),a.createAnimations(t)}},{key:"removeAnimations",value:function(t){o.removeAnimations(t),r.removeAnimations(t),a.removeAnimations(t)}}],(n=[{key:"finish",value:function(){this.canExec=!0}},{key:"adjustProbabilities",value:function(){var n=this,t=Math.floor(this.boss.scene.timer.frames/this.boss.scene.game.loop.targetFps/30);t>this.n30s&&(this.p.forEach(function(t,e){switch(n.patterns[e].constructor.name){case c.name:case f.name:.01<t&&n.increaseProbability(e,-.1,g.name);break;case h.name:t<1/12&&n.increaseProbability(e,.05);break;case m.name:.02<t&&n.increaseProbability(e,-.05);break;case u.name:t<1/6&&n.increaseProbability(e,.1);break;case b.name:case d.name:.05<t&&n.increaseProbability(e,-.01);break;case w.name:case p.name:case y.name:case l.name:break;case v.name:case g.name:t<.25&&n.increaseProbability(e,.1)}}),this.n30s=t)}},{key:"increaseProbability",value:function(i,t){var s=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"all",r=this.p[i]*t;this.p[i]+=r,this.patterns.forEach(function(t,e){if("all"===o){var n=r/s.p.length;t.constructor.name!==s.p[i].constructor.name&&(s.p[e]-=n,s.p[e]<0&&(s.p[i]+=Math.abs(s.p[e]),s.p[e]=0))}else t.constructor.name===o&&(s.p[e]-=r)})}},{key:"_getRandomIndex",value:function(){var n=this.boss.random(),i=this.patterns.length-1;return this.p.some(function(t,e){if(n<t)return i=e,!0;n-=t}),i}},{key:"exec",value:function(){if(this.adjustProbabilities(),this.canExec){this.canExec=!1;var t=this._getRandomIndex();this.patterns[t].exec()}}}])&&s(t.prototype,n),i&&s(t,i),e}()},{"../projectiles/Missile":22,"../projectiles/Orb":23,"../projectiles/Radar":24,"../projectiles/Teleport":25,"./ChargedOrb":6,"./FastMove":7,"./LinearRadialOrb":8,"./RadarAttack":10,"./Retreat":11,"./SineMove":12,"./SlowMissile":13,"./SlowMove":14,"./SpiralOrb":15,"./Teleport":16,"./TrackTackle":17,"./TwinMissiles":18,"./USweep":19}],21:[function(t,e,n){"use strict";function c(t,e,n){return(c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var s=new(Function.bind.apply(t,i));return n&&o(s,n.prototype),s}).apply(null,arguments)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}e.exports=function(){function u(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.projectiles=[],this.availableProjectiles=[];for(var i=arguments.length,s=new Array(3<i?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];for(var r=0;r<n;r++){var a=c(e,[t].concat(s));a.addContainer(this),this.projectiles.push(a),this.availableProjectiles.push(a)}}var t,e,n;return t=u,(e=[{key:"get",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(0===this.availableProjectiles.length)return!1;if(0===t)return this.availableProjectiles.pop();if(this.availableProjectiles.length<t)return!1;for(var e=[],n=0;n<t;n++)e.push(this.availableProjectiles.pop());return e}},{key:"reload",value:function(t){this.availableProjectiles.push(t)}},{key:"forEach",value:function(t){return this.projectiles.forEach(t)}}])&&i(t.prototype,e),n&&i(t,n),u}()},{}],22:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=t("../../Entity");e.exports=function(t){function s(t){var e,n,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),n=this,(e=!(i=a(s).call(this,t.x,t.y,11,55))||"object"!==o(i)&&"function"!=typeof i?c(n):i).boss=t,e.boss.scene.addObject("boss_missile",c(c(e))),e.active=!1,e.fired=!1,e.setSpeed(),e.sprite=e.boss.scene.add.sprite(e.x,e.y,"boss_missile"),e.spriteFire=e.boss.scene.add.sprite(e.x,e.y,"boss_missile_fire"),e.spriteFire.play("boss_missile_fire_animation"),e.sprite.depth=-1,e.spriteFire.depth=-1,e.container=[],e}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,h),e=s,i=[{key:"loadAssets",value:function(t){t.load.image("boss_missile","assets/game/boss/missile.png"),t.load.spritesheet("boss_missile_fire","assets/game/boss/missile_fire.png",{frameWidth:38,frameHeight:140})}},{key:"createAnimations",value:function(t){t.anims.create({key:"boss_missile_fire_animation",frames:t.anims.generateFrameNumbers("boss_missile_fire",{start:0,end:3}),frameRate:8,repeat:-1})}},{key:"removeAnimations",value:function(t){t.anims.remove("boss_missile_fire_animation")}}],(n=[{key:"addContainer",value:function(t){this.container.push(t)}},{key:"destroy",value:function(){this.reload(),this.active=!1,this.fired=!1,this.y=0}},{key:"reload",value:function(){for(var t=0;t<this.container.length;t++)this.container[t].reload(this)}},{key:"setSpeed",value:function(){this.speed=10*this.boss.random()+10}},{key:"update",value:function(){this.fired&&(this.y+=this.speed,this.y>=this.boss.scene.game.canvas.height+this.height&&this.destroy()),this.sprite.x=this.x,this.sprite.y=this.y,this.spriteFire.x=this.x,this.spriteFire.y=this.y-38,this.sprite.visible=this.active,this.spriteFire.visible=this.active}}])&&r(e.prototype,n),i&&r(e,i),s}()},{"../../Entity":3}],23:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=t("../../Entity");e.exports=function(t){function o(t,e){var n,i,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),i=this,s=a(o).call(this,t.x,t.y,6,6),(n=!s||"object"!==r(s)&&"function"!=typeof s?c(i):s).boss=t,n.boss.scene.addObject("boss_orb",c(c(n))),n.type=e,n.active=!1,n.shoot=!1,n.angle=0,n.y+=80,n.sprite=n.boss.scene.add.sprite(n.x,n.y,"boss_orb"),n.sprite.on("animationcomplete",function(){n.boss.chargedOrbSFX.play(),n.shoot=!0,n.finalX=(n.boss.scene.objects.player[0].x-n.x)/15,n.finalY=(n.boss.scene.objects.player[0].y-n.y)/15},n.scene),n.container=[],n}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(o,h),e=o,i=[{key:"loadAssets",value:function(t){t.load.spritesheet("boss_orb","assets/game/boss/orb.png",{frameWidth:56,frameHeight:56})}},{key:"createAnimations",value:function(t){t.anims.create({key:"boss_charge_orb",frames:t.anims.generateFrameNumbers("boss_orb",{start:0,end:5}),frameRate:5})}},{key:"removeAnimations",value:function(t){t.anims.remove("boss_charge_orb")}}],(n=[{key:"addContainer",value:function(t){this.container.push(t)}},{key:"destroy",value:function(){this.active=!1}},{key:"chargeAndShoot",value:function(){this.active=!0,this.sprite.anims.play("boss_charge_orb")}},{key:"fire",value:function(){this.active=!0,this.x=Math.floor(this.boss.x+100*Math.cos(this.angle)),this.y=Math.floor(this.boss.y+100*Math.sin(this.angle)),this.shoot=!0}},{key:"updateHitbox",value:function(){var t,e,n=this.hitboxes[0];switch(this.sprite.frame.name){case 0:e=t=6;break;case 1:e=t=9;break;case 2:e=t=12;break;case 3:e=t=16;break;case 4:e=t=20;break;case 5:e=t=25}n.x=-t/2,n.y=-e/2,n.width=t,n.height=e}},{key:"update",value:function(){if((this.y<0||this.y>=this.boss.scene.game.canvas.height||this.x>=this.boss.scene.game.canvas.width||this.x<0)&&this.active){this.shoot=!1,this.active=!1,this.sprite.setFrame(0);for(var t=0;t<this.container.length;t++)this.container[t].reload(this)}else this.shoot&&("charged"===this.type?5===this.sprite.frame.name?(this.x+=this.finalX,this.y+=this.finalY):this.destroy():"linear"===this.type?(this.sprite.setFrame(1),this.x=Math.floor(this.x+2.5*Math.cos(this.angle)),this.y=Math.floor(this.y+2.5*Math.sin(this.angle))):"spiral"===this.type&&(this.sprite.setFrame(2),this.angle+=.01*(this.boss.x%2==0?1:-1),this.x=Math.floor(this.x+3*Math.cos(this.angle)),this.y=Math.floor(this.y+3*Math.sin(this.angle))));this.updateHitbox(),this.sprite.x=this.x,this.sprite.y=this.y,this.sprite.visible=this.active}}])&&s(e.prototype,n),i&&s(e,i),o}()},{"../../Entity":3}],24:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=t("../../Entity");e.exports=function(t){function s(t){var e,n,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),n=this,(e=!(i=a(s).call(this,t.x,t.y,7,7))||"object"!==o(i)&&"function"!=typeof i?c(n):i).boss=t,e.boss.scene.addObject("boss_radar",c(c(e))),e.speed=3,e.active=!1,e.start=!1,e.graphics=e.boss.scene.add.graphics({lineStyle:{color:0,width:7}}),e.graphics.depth=-5,e.radius=0,e.i=0,e.interval=60,e.container=[],e}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,h),e=s,(n=[{key:"addContainer",value:function(t){this.container.push(t)}},{key:"addHitboxes",value:function(){}},{key:"changeHitboxes",value:function(){this.hitboxes.length=0;for(var t=this.radius,e=Math.PI,n=Math.round(Math.pow(e*(t+this.width),2)-Math.pow(e*t,2))/(this.width*this.height*4),i=e/n*2,s=0;s<n;s++){var o=-(this.radius*Math.cos(i*s)+this.width/2),r=-(this.radius*Math.sin(i*s)+this.width/2);0<=this.x+o&&this.x+o<=this.boss.scene.game.canvas.width&&0<=this.y+r&&this.y+r<=this.boss.scene.game.canvas.height&&this.hitboxes.push({x:o,y:r,width:this.width,height:this.height})}}},{key:"destroy",value:function(){this.active=!1,this.graphics.clear(),this.stop()}},{key:"stop",value:function(){for(var t=0;t<this.container.length;t++)this.container[t].reload(this);this.start=!1,this.radius=0,this.speed=4*this.boss.random()+1,this.i=60*this.boss.random()+60}},{key:"update",value:function(){if(this.graphics.clear(),this.start){this.graphics.strokeCircle(this.x,this.y,this.radius);var t=this.i%this.interval/this.interval;if(this.graphics.alpha=.6<=t?(this.active=!0,1):(this.active=!1,.2),this.i++,this.changeHitboxes(),!(this.radius<=700))return this.stop(),!0;this.radius+=this.speed}}}])&&r(e.prototype,n),i&&r(e,i),s}()},{"../../Entity":3}],25:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("../../Entity");e.exports=function(t){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(e=r(this,a(n).call(this,t.x,t.y))).boss=t,e.active=!1,e.sprite=e.boss.scene.add.sprite(e.x,e.y,"boss_teleport"),e.sprite.visible=e.active,e.SFX=e.boss.scene.sound.add("bossTeleport"),e}var e,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,c),e=n,s=[{key:"loadAssets",value:function(t){t.load.spritesheet("boss_teleport","assets/game/boss/teleport.png",{frameWidth:214,frameHeight:191}),t.load.audio("bossTeleport",["assets/audio/bossTeleport.mp3","assets/audio/bossTeleport.ogg"])}},{key:"createAnimations",value:function(t){t.anims.create({key:"boss_teleport_animation",frames:t.anims.generateFrameNumbers("boss_teleport",{start:0,end:2}),frameRate:8})}},{key:"removeAnimations",value:function(t){t.anims.remove("boss_teleport_animation")}}],(i=[{key:"update",value:function(){this.sprite.visible=this.active,this.x=this.boss.x,this.y=this.boss.y,this.sprite.x=this.x,this.sprite.y=this.y}}])&&o(e.prototype,i),s&&o(e,s),n}()},{"../../Entity":3}],26:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=t("../Entity");e.exports=function(t){function s(t){var e,n,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),n=this,(e=!(i=a(s).call(this,t.x+1,t.y-10,5,20))||"object"!==o(i)&&"function"!=typeof i?c(n):i).player=t,e.player.scene.addObject("player_bullet",c(c(e))),e.speed=20,e.active=!1,e.sprite=e.player.scene.add.sprite(e.x,e.y,"player_bullet"),e.sprite.depth=-1,e.bulletContainers=[],e}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,h),e=s,i=[{key:"loadAssets",value:function(t){t.load.image("player_bullet","assets/game/player/bullet.png")}}],(n=[{key:"addBulletContainer",value:function(t){this.bulletContainers.push(t)}},{key:"unload",value:function(){this.active=!1;for(var t=0;t<this.bulletContainers.length;t++)this.bulletContainers[t].reload(this)}},{key:"fire",value:function(){this.active||(this.x=Math.floor(this.player.x+1),this.y=Math.floor(this.player.y-10),this.active=!0)}},{key:"update",value:function(){this.y<=-this.sprite.height&&this.active&&this.unload(),this.active&&(this.y-=this.speed),this.sprite.x=this.x,this.sprite.y=this.y,this.sprite.visible=this.active,this.player.scene.objects.boss&&this.collidesWith(this.player.scene.objects.boss[0])&&this.active&&(this.player.scene.objects.boss[0].hit(),this.player.shieldActive?this.player.meter.gainMeter(.3):this.player.meter.gainMeter(.8),this.unload())}}])&&r(e.prototype,n),i&&r(e,i),s}()},{"../Entity":3}],27:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=t("./Bullet");e.exports=function(){function s(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.bullets=[],this.availableBullets=[];for(var n=0;n<t;n++){var i=new o(e);i.addBulletContainer(this),this.bullets.push(i),this.availableBullets.push(i)}}var t,e,n;return t=s,n=[{key:"loadAssets",value:function(t){o.loadAssets(t)}}],(e=[{key:"reload",value:function(t){this.availableBullets.push(t)}},{key:"fire",value:function(){return 0!==this.availableBullets.length&&(this.availableBullets.pop().fire(),!0)}},{key:"update",value:function(){for(var t=0;t<this.bullets.length;t++)this.bullets[t].update()}}])&&i(t.prototype,e),n&&i(t,n),s}()},{"./Bullet":26}],28:[function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=t("../Entity");e.exports=function(t){function s(t){var e,n,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),n=this,i=a(s).call(this,t.x,t.y),(e=!i||"object"!==o(i)&&"function"!=typeof i?c(n):i).player=t,e.player.scene.addObject("player_special",c(c(e))),e.active=!1,e.createAnimations(),e.sprite=e.player.scene.add.sprite(e.x,e.y,"player_special"),e.sprite.play("player_special"),e.sprite.on("animationcomplete",function(){e.active=!1}),e.sprite.depth=50,e}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,h),e=s,i=[{key:"loadAssets",value:function(t){t.load.spritesheet("player_special","assets/game/player/special.png",{frameWidth:300,frameHeight:300})}}],(n=[{key:"addHitboxes",value:function(){this.radius=150;var t=this.radius,e=Math.pow(Math.pow(2*t,2)/2,.5),n=t/5*4;this.hitboxes.push({x:-e/2,y:-e/2,width:e,height:e},{x:-t,y:-n/2,width:2*t,height:n},{x:-n/2,y:-t,width:n,height:2*t});var i=this.hitboxes[0],s=this.hitboxes[1],o=this.hitboxes[2];this.hitboxes.push({x:(i.x+s.x)/2,y:(i.y+s.y)/2,width:(i.width+s.width)/2,height:(i.height+s.height)/2},{x:(i.x+o.x)/2,y:(i.y+o.y)/2,width:(i.width+o.width)/2,height:(i.height+o.height)/2})}},{key:"createAnimations",value:function(){this.player.scene.anims.create({key:"player_special",frames:this.player.scene.anims.generateFrameNumbers("player_special",{start:0,end:6}),frameRate:5})}},{key:"removeAnimations",value:function(){this.player.scene.anims.remove("player_special")}},{key:"use",value:function(){this.player.specialSFX.play(),this.x=this.player.x,this.y=this.player.y,this.active=!0,this.sprite.play("player_special")}},{key:"update",value:function(){var e=this;for(var t in this.sprite.x=this.x,this.sprite.y=this.y,this.sprite.visible=this.active,this.player.scene.objects)t.startsWith("boss_")&&this.player.scene.objects[t].forEach(function(t){e.collidesWith(t)&&e.active&&t.destroy()})}}])&&r(e.prototype,n),i&&r(e,i),s}()},{"../Entity":3}],29:[function(t,e,n){"use strict";var i=t("../../utils").decorate;e.exports=function(t){var e=0,n=20,s=3,o=[],r=0;function a(t){t.x=this.x,t.y=this.y,t.visible=!0}t.prototype.update=i(t.prototype.update,function(){var i=this;this.isDashing?((n<=0||this.scene.game.controller.pressingButton("shoot")&&!this.scene.game.controller.pressingButton("shield"))&&(this.isDashing=!1,n=20),n--,8==(8&r)&&(this.y-=this.speed*(1+n/20)),4==(4&r)&&(this.y+=this.speed*(1+n/20)),2==(2&r)&&(this.x-=this.speed*(1+n/20)),1==(1&r)&&(this.x+=this.speed*(1+n/20)),s?s--:(this.spriteAfterImages.forEach(function(t,e){var n;n=0===e?i:i.spriteAfterImages[e-1],o.push(i.scene.time.addEvent({delay:180*e,callback:a,args:[t],callbackScope:n}))}),s=3)):this.spriteAfterImages.forEach(function(t){t.visible=!1,t.x=i.x,t.y=i.y}),this.scene.game.controller.pressingButton("shoot")?(e++,this.scene.game.controller.pressingButton("shield")&&!this.scene.game.controller.buttonHeld("shield")&&e<=3&&(this.isDashing||(r=0)!==(r=((r=((r=((r=(r<<1)+this.scene.game.controller.pressingButton("up"))<<1)+this.scene.game.controller.pressingButton("down"))<<1)+this.scene.game.controller.pressingButton("left"))<<1)+this.scene.game.controller.pressingButton("right"))&&(this.dashSFX.play(),this.isDashing=!0))):e=0})}},{"../../utils":39}],30:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("../Entity");e.exports=function(t){function i(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length?arguments[1]:void 0;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r(this,a(i).call(this,15,13))).meterMax=1e3,t.meter=Math.min(Math.max(e/100*t.meterMax,0),t.meterMax)||0,t.scene=n,t.barWidth=144,t.scene.add.sprite(t.x+69,t.y+12,"meter",1).depth=99,t.scene.add.sprite(t.x+69,t.y+12,"meter",0).depth=101,t.graphics=t.scene.add.graphics({fillStyle:{color:t.getMeterColor()}}),t.graphics.depth=100,t.meterBarHeight=14,t.graphics.fillRect(t.x,t.y,t.meter/t.meterMax*t.barWidth,t.meterBarHeight),t}var e,n,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(i,c),e=i,s=[{key:"loadAssets",value:function(t){t.load.spritesheet("meter","assets/game/player/meter.png",{frameWidth:151,frameHeight:23})}}],(n=[{key:"useBars",value:function(t){return!(4<(t=Math.round(t))||t<1||NaN===t)&&(t*=this.meterMax/4,this.meter>=t&&(this.meter-=t,!0))}},{key:"gainMeter",value:function(t){this.meter=Math.min(this.meter+=this.meterMax*(t/100),this.meterMax),this.meter=Math.max(0,this.meter)}},{key:"getMeterColor",value:function(){var t=this.meter/this.meterMax;return 1<=t?15392512:.75<=t?14680064:.5<=t?16737792:.25<=t?49152:5000396}},{key:"update",value:function(){this.graphics.clear(),this.graphics.fillStyle(this.getMeterColor()),this.graphics.fillRect(this.x,this.y,this.meter/this.meterMax*this.barWidth,this.meterBarHeight)}}])&&o(e.prototype,n),s&&o(e,s),i}()},{"../Entity":3}],31:[function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=t("../Entity"),i=t("../trapInBounds"),l=t("./Meter"),f=t("./ClearRadius"),p=t("./BulletContainer"),r=t("./Dash"),b=t("./Shoot"),d=t("./Shield"),m=t("./Specials"),g=function(t){function r(t,e,n){var i,s,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),s=this,o=u(r).call(this,e,n,9,9),(i=!o||"object"!==a(o)&&"function"!=typeof o?c(s):o).scene=t,i.scene.addObject("player",c(c(i))),i.createAnimations(),i.listenKeystrokes(),i.speed=3,i.isDashing=!1,i.sprite=i.scene.add.sprite(i.x,i.y,"player"),i.spriteAfterImages=[t.add.sprite(i.x,i.y,"player"),t.add.sprite(i.x,i.y,"player"),t.add.sprite(i.x,i.y,"player")],i.spriteAfterImages.forEach(function(t,e){t.tint=3355622,t.alpha=1-e/i.spriteAfterImages.length,t.depth=-(e+1),t.visible=!1}),i.spriteShield=i.scene.add.sprite(i.x,i.y,"player_shield"),i.spriteShield.visible=!1,i.spriteJetfire=i.scene.add.sprite(i.x,i.y,"player_jetfire"),i.spriteJetfire.anims.play("player_jetfire_animation"),i.meter=new l(0,i.scene),i.shootSFX=i.scene.sound.add("playerShoot"),i.shieldSFX=i.scene.sound.add("playerShield"),i.dashSFX=i.scene.sound.add("playerDash"),i.specialSFX=i.scene.sound.add("playerSpecial"),i.deathSFX=i.scene.sound.add("playerDeath"),i.bullets=new p(5,c(c(i))),i.special=new f(c(c(i))),i}var e,n,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(r,h),e=r,i=[{key:"loadAssets",value:function(t){t.load.spritesheet("player","assets/game/player/player.png",{frameWidth:50,frameHeight:50}),t.load.image("player_shield","assets/game/player/shield.png"),t.load.spritesheet("player_jetfire","assets/game/player/jetfire.png",{frameWidth:50,frameHeight:50}),l.loadAssets(t),p.loadAssets(t),f.loadAssets(t),t.load.audio("playerShoot",["assets/audio/playerShoot.mp3","assets/audio/playerShoot.ogg"]),t.load.audio("playerDash",["assets/audio/playerDash.mp3","assets/audio/playerDash.ogg"]),t.load.audio("playerShield",["assets/audio/playerShield.mp3","assets/audio/playerShield.ogg"]),t.load.audio("playerSpecial",["assets/audio/playerSpecial.mp3","assets/audio/playerSpecial.ogg"]),t.load.audio("playerDeath",["assets/audio/playerDeath.mp3","assets/audio/playerDeath.ogg"])}}],(n=[{key:"createAnimations",value:function(){this.scene.anims.create({key:"player_death_animation",frames:this.scene.anims.generateFrameNumbers("player",{start:0,end:13}),frameRate:30}),this.scene.anims.create({key:"player_jetfire_animation",frames:this.scene.anims.generateFrameNumbers("player_jetfire",{start:0,end:4}),frameRate:8,repeat:-1}),this.scene.anims.create({key:"menuCursorAnimation",frames:this.scene.anims.generateFrameNumbers("menuCursor",{start:0,end:2}),frameRate:6,repeat:-1})}},{key:"removeAnimations",value:function(){this.scene.anims.remove("player_death_animation"),this.scene.anims.remove("player_jetfire_animation"),this.scene.anims.remove("menuCursorAnimation"),this.special.removeAnimations()}},{key:"listenKeystrokes",value:function(){var e=this;this.scene.input.keyboard.on("keydown",function(t){e.scene.game.controller.press(t.code)}),this.scene.input.keyboard.on("keyup",function(t){e.scene.game.controller.release(t.code)})}},{key:"hit",value:function(){this.scene.timer.stop(),this.sprite.anims.play("player_death_animation"),this.deathSFX.play(),this.sprite.on("animationcomplete",function(){this.visible=!1},this.sprite),this.spriteJetfire.destroy(),this.spriteAfterImages.forEach(function(t){return t.destroy()});this.scene.add.sprite(this.scene.game.canvas.width/2,this.scene.game.canvas.height/2,"menuBox");var t=this.scene.add.graphics({lineStyle:{color:0},fillStyle:{color:16777215}}),e=this.scene.add.sprite(this.scene.game.canvas.width/2,0,"menuCursor");e.anims.play("menuCursorAnimation");var n={fontFamily:"Kong Text",fill:"#000",backgroundColor:"#fff"},i=this.scene.game.canvas.width/2,s=i-95,o=[s,308,190,75],r=[s,390,190,75];t.strokeRect.apply(t,o),t.fillRect.apply(t,o),t.strokeRect.apply(t,r),t.fillRect.apply(t,r);var a=this.scene.timer.getHHMMSS();this.scene.add.text(i,185,"Time achieved:",n).setOrigin(.5).setFontSize(10),this.scene.add.text(i,210,"".concat(a.h,":").concat(a.m,":").concat(a.s),n).setOrigin(.5).setFontSize(19);var u,c=localStorage.getItem("scores");if(c)try{(c=JSON.parse(c)).push(this.scene.timer.frames),u=this.scene.timer.getHHMMSS(Math.max.apply(Math,y(c))),localStorage.setItem("scores",JSON.stringify(c))}catch(t){console.log(t)}else u=a,localStorage.setItem("scores",JSON.stringify([this.scene.timer.frames]));this.scene.add.text(i,235,"Best time:",n).setOrigin(.5).setFontSize(10),this.scene.add.text(i,260,"".concat(u.h,":").concat(u.m,":").concat(u.s),n).setOrigin(.5).setFontSize(19),this.scene.add.text(i,o[1]+37,"RETRY",n).setOrigin(.5),this.scene.add.text(i,r[1]+37,"MAIN MENU",n).setOrigin(.5),e.y=o[1]+37;var h=0,l=0,f=0,p=!1;this.update=function(){60<=f&&(this.scene.game.controller.pressingButton("up")?(0===l&&(h=+!h,this.scene.menuSelect.play()),l=(l+1)%10):this.scene.game.controller.pressingButton("down")&&(0===l&&(h=+!h,this.scene.menuSelect.play()),l=(l+1)%10),this.scene.game.controller.pressingButton("shoot")&&(this.scene.player.removeAnimations(),this.scene.boss.removeAnimations(),this.scene.destroyObjects(),0!==h||p?1!==h||p||(this.scene.menuClick.play(),this.scene.scene.start("MainMenu")):(this.scene.menuClick.play(),this.scene.scene.start("Game")),p=!0)),f++,e.y=[o[1],r[1]][h]+37,this.meter.update(),this.bullets.update(),this.special.update()}}},{key:"updateSprite",value:function(){this.sprite.x=this.x,this.sprite.y=this.y,this.spriteJetfire.x=this.x,this.spriteJetfire.y=this.y}},{key:"update",value:function(){var e=this;for(var t in this.isDashing||(this.scene.game.controller.pressingButton("left")&&(this.x-=this.speed),this.scene.game.controller.pressingButton("up")&&(this.y-=this.speed),this.scene.game.controller.pressingButton("down")&&(this.y+=this.speed),this.scene.game.controller.pressingButton("right")&&(this.x+=this.speed)),this.updateSprite(),this.meter.update(),this.bullets.update(),this.special.update(),this.scene.objects)t.startsWith("boss")&&this.scene.objects[t].forEach(function(t){e.collidesWith(t)&&t.active&&!e.shieldActive&&e.hit()})}}])&&s(e.prototype,n),i&&s(e,i),r}();b(g),d(g),r(g),m(g),i(g),e.exports=g},{"../Entity":3,"../trapInBounds":35,"./BulletContainer":27,"./ClearRadius":28,"./Dash":29,"./Meter":30,"./Shield":32,"./Shoot":33,"./Specials":34}],32:[function(t,e,n){"use strict";var i=t("../../utils").decorate;e.exports=function(t){t.prototype.shieldActive=!1,t.prototype.canHit=function(){return!this.shieldActive};var e=0,n=0;t.prototype.update=i(t.prototype.update,function(){n=!this.scene.game.controller.pressingButton("shield")||this.scene.game.controller.buttonHeld("shield")||this.scene.game.controller.pressingButton("shoot")?0:(2===n&&this.meter.useBars(1)&&(this.shieldSFX.play(),this.spriteShield.visible=!0,this.shieldActive=!0,e+=120),(n+1)%60),this.shieldActive&&0<e?(e<=10?this.spriteShield.visible=e%2!=0:e<=60&&(this.spriteShield.visible=e%5!=0),e--):(this.shieldActive=!1,this.spriteShield.visible=!1),this.spriteShield.x=this.x,this.spriteShield.y=this.y})}},{"../../utils":39}],33:[function(t,e,n){"use strict";var i=t("../../utils").decorate;e.exports=function(t){var e=0;t.prototype.update=i(t.prototype.update,function(){e=this.scene.game.controller.pressingButton("shoot")&&!this.scene.game.controller.pressingButton("shield")?(0===e&&this.bullets.fire()&&this.shootSFX.play(),(e+1)%10):0})}},{"../../utils":39}],34:[function(t,e,n){"use strict";var i=t("../../utils").decorate;e.exports=function(t){var e=[];function n(t){var e=[8,1,4,2],n=!0,i=0,s=0,o=0,r=!0,a=!1,u=void 0;try{for(var c,h=t[Symbol.iterator]();!(r=(c=h.next()).done);r=!0){var l=c.value;if(7<=s)return!1;if(o>=e.length)return!0;if(~e.indexOf(l)&&0===o)s=0,i=e.indexOf(l),o++;else{if(1===o){var f=(i+1)%e.length,p=(e.length+i-1)%e.length;if(l===e[f]){s=0,i=f,o++;continue}if(l===e[p]){s=0,n=!1,i=p,o++;continue}}else if(2===o||3===o){var y=void 0;if(l===e[y=n?(i+1)%e.length:(e.length+i-1)%e.length]){s=0,i=y,o++;continue}}s++}}}catch(t){a=!0,u=t}finally{try{r||null==h.return||h.return()}finally{if(a)throw u}}return!1}t.prototype.update=i(t.prototype.update,function(){var t=0;t=((t=((t=((t=(t<<1)+this.scene.game.controller.pressingButton("up"))<<1)+this.scene.game.controller.pressingButton("down"))<<1)+this.scene.game.controller.pressingButton("left"))<<1)+this.scene.game.controller.pressingButton("right"),e.push(t),28<e.length&&e.splice(0,1),this.scene.game.controller.pressingButton("shoot")&&(function(){for(var t=0;t<e.length;t++)if(n(e.slice(t)))return!0;return!1}()&&this.meter.useBars(2)&&this.special.use(),e.length=0)})}},{"../../utils":39}],35:[function(t,e,n){"use strict";var i=t("../utils").decorate;e.exports=function(t){t.prototype.update=i(t.prototype.update,function(){var t=Math.round(this.width/2),e=Math.round(this.height/2);this.x<t?this.x=t:this.x>this.scene.game.canvas.width-t&&(this.x=this.scene.game.canvas.width-t),this.y<e?this.y=e:this.y>this.scene.game.canvas.height-e&&(this.y=this.scene.game.canvas.height-e),this.updateSprite()})}},{"../utils":39}],36:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=t("./scenes/MainMenu"),u=t("./scenes/Game"),c=t("./Controller");new(function(t){function s(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o(this,r(s).call(this,t))).controller=new c;var n=localStorage.getItem("buttonConfig");if(n)try{for(var i in n=JSON.parse(n))e.controller.changeKey(i,n[i])}catch(t){console.log(t)}return e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(s,Phaser.Game),s}())({type:Phaser.AUTO,width:360,height:640,backgroundColor:16777215,scene:[s,u],disableContextMenu:!0})},{"./Controller":1,"./scenes/Game":37,"./scenes/MainMenu":38}],37:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=t("../entities/Background"),h=t("../entities/boss/Boss"),l=t("../entities/player/Player"),f=t("../entities/Timer");e.exports=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=r(this,a(e).call(this,{key:"Game",active:!1}))).objects={},t}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,Phaser.Scene),n=e,(i=[{key:"addObject",value:function(t,e){t in this.objects?this.objects[t].push(e):this.objects[t]=[e]}},{key:"destroyObjects",value:function(){for(var t in this.objects)delete this.objects[t]}},{key:"init",value:function(t){this.disableBackground=t.disableBackground}},{key:"preload",value:function(){this.disableBackground||c.loadAssets(this),this.load.image("menuBox","assets/menu/menuBox.png"),this.load.spritesheet("menuCursor","assets/menu/menuCursor.png",{frameWidth:280,frameHeight:27}),this.load.audio("menuSelect",["assets/audio/menuSelect.mp3","assets/audio/menuSelect.ogg"]),this.load.audio("menuClick",["assets/audio/menuClick.mp3","assets/audio/menuClick.ogg"]),h.loadAssets(this),l.loadAssets(this)}},{key:"create",value:function(){this.menuSelect=this.sound.add("menuSelect"),this.menuClick=this.sound.add("menuClick"),this.disableBackground||(this.background=new c(this)),this.timer=new f(this),this.player=new l(this,180,500),this.boss=new h(this,180,100)}},{key:"update",value:function(){this.disableBackground||this.background.update(),this.timer.update(),this.boss.update(),this.player.update()}}])&&o(n.prototype,i),s&&o(n,s),e}()},{"../entities/Background":2,"../entities/Timer":4,"../entities/boss/Boss":5,"../entities/player/Player":31}],38:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}e.exports=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=u(this,c(e).call(this,{key:"MainMenu",active:!0}))).shipI=0,t.shipIMax=20,t.shipY=195,t.i=0,t.ix=10,t.menuEnum={main:0,config:1,howto:2},t.changingKey=!1,t.buttonToChange=null,t}var n,i,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,Phaser.Scene),n=e,(i=[{key:"preload",value:function(){this.load.image("menuBox","assets/menu/menuBox.png"),this.load.image("updown","assets/menu/updown.png"),this.load.image("title","assets/menu/title.png"),this.load.image("ship","assets/menu/ship.png"),this.load.image("howto360","assets/menu/360.png"),this.load.spritesheet("menuCursor","assets/menu/menuCursor.png",{frameWidth:280,frameHeight:27}),this.load.audio("menuSelect",["assets/audio/menuSelect.mp3","assets/audio/menuSelect.ogg"]),this.load.audio("menuBack",["assets/audio/menuBack.mp3","assets/audio/menuBack.ogg"]),this.load.audio("menuClick",["assets/audio/menuClick.mp3","assets/audio/menuClick.ogg"])}},{key:"create",value:function(){var t,e,n=this;this.menuSelect=this.sound.add("menuSelect"),this.menuBack=this.sound.add("menuBack"),this.menuClick=this.sound.add("menuClick");var i=this.game.canvas.width/2;this.ship=this.add.sprite(i,this.shipY,"ship"),this.add.sprite(i-3,this.game.canvas.height/8,"title");var s=this.game.canvas.height/3*2;this.menuBox=this.add.sprite(i,s,"menuBox"),this.graphics=this.add.graphics({fillStyle:{color:16777215},lineStyle:{color:0}}),this.menu=this.menuEnum.main,this.cursorPositionsY=(r(t={},this.menuEnum.main,[320,389,461]),r(t,this.menuEnum.config,[555,310,350,390,430,470,510]),r(t,this.menuEnum.howto,[555]),t),this.cursorPosition=(r(e={},this.menuEnum.main,0),r(e,this.menuEnum.config,1),r(e,this.menuEnum.howto,0),e),this.createAnimations(),this.menuCursor=this.add.sprite(i,this.cursorPositionsY[this.menu][this.cursorPosition[this.menu]],"menuCursor"),this.menuCursor.anims.play("menuCursorAnimation"),this.menuObjects=[],this.drawMenu(),this.add.text(this.game.canvas.width-5,this.game.canvas.height-5,"made by Tyson Ngo",{fontFamily:"Kong Text",fontSize:"8.5pt",fill:"#000",backgroundColor:"#fff"}).setOrigin(1),this.input.keyboard.on("keydown",function(t){if(n.changingKey){if(n.changingKey=!1,"Escape"===t.code)return n.menuBack.play(),n.drawMenu(n.menu);n.menuClick.play(),n.game.controller.changeKey(n.buttonToChange,t.code),localStorage.setItem("buttonConfig",JSON.stringify({up:n.game.controller.getKey("up"),down:n.game.controller.getKey("down"),left:n.game.controller.getKey("left"),right:n.game.controller.getKey("right"),shoot:n.game.controller.getKey("shoot"),shield:n.game.controller.getKey("shield")})),n.drawMenu(n.menu)}else n.game.controller.press(t.code)}),this.input.keyboard.on("keyup",function(t){n.game.controller.release(t.code),n.i=0})}},{key:"createAnimations",value:function(){this.anims.create({key:"menuCursorAnimation",frames:this.anims.generateFrameNumbers("menuCursor",{start:0,end:2}),frameRate:6,repeat:-1})}},{key:"removeAnimations",value:function(){this.anims.remove("menuCursorAnimation")}},{key:"moveCursor",value:function(){this.menuCursor.y=this.cursorPositionsY[this.menu][this.cursorPosition[this.menu]]}},{key:"drawMenu",value:function(){var t,e,n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;switch(this.graphics.clear(),this.menuObjects.forEach(function(t){t.destroy()}),this.menu=i,this.menu){case this.menuEnum.main:(t=this.menuObjects).push.apply(t,o(this.drawMenuBoxes())),this.menuObjects.push(this.add.sprite(145,538,"updown"));var s={fontFamily:"Kong Text",fontSize:"8.5pt",fill:"#000",backgroundColor:"#fff"};this.menuObjects.push(this.add.text(125,505,this.game.controller.getKey("up"),s)),this.menuObjects.push(this.add.text(125,560,this.game.controller.getKey("down"),s)),this.menuObjects.push(this.add.text(196,533,this.game.controller.getKey("shoot"),s));break;case this.menuEnum.config:(e=this.menuObjects).push.apply(e,o(this.drawMenuBoxes()));break;case this.menuEnum.howto:(n=this.menuObjects).push.apply(n,o(this.drawMenuBoxes()))}}},{key:"drawMenuBoxes",value:function(){var t,e=[],n={fontFamily:"Kong Text",fill:"#000",backgroundColor:"#fff"};switch(this.menu){case this.menuEnum.main:t=[190,60,290,70],e.push(this.drawMenuBox.apply(this,[0,"START"].concat(o(t)))),e.push(this.drawMenuBox.apply(this,[1,"CONFIG"].concat(o(t)))),e.push(this.drawMenuBox.apply(this,[2,"HOW TO PLAY"].concat(o(t))));break;case this.menuEnum.config:t=[190,30,533,-40],e.push(this.drawMenuBox(0,"BACK",190,40,533,70));for(var i=[null,"UP","DOWN","LEFT","RIGHT","SHOOT","SHIELD"],s=1;s<this.cursorPositionsY[this.menu].length;s++)this.drawMenuBox.apply(this,[s,""].concat(o(t))),n.fontSize="13px",e.push(this.add.text(130,this.cursorPositionsY[this.menu][s],i[s],n).setOrigin(.5)),n.fontSize="8px",e.push(this.add.text(180,this.cursorPositionsY[this.menu][s]-3,this.game.controller.getKey(i[s].toLowerCase()),n));break;case this.menuEnum.howto:t=[190,40,533,70],e.push(this.drawMenuBox.apply(this,[0,"BACK"].concat(o(t)))),this.drawMenuBox(1,"",190,230,290,0),n.fontSize="8px",e.push(this.add.text(90,300,"SURVIVE AS LONG\nAS POSSIBLE.\n\ncontrols:\n  UP     (".concat(this.game.controller.getKey("up"),")\n  DOWN   (").concat(this.game.controller.getKey("down"),")\n  LEFT   (").concat(this.game.controller.getKey("left"),")\n  RIGHT  (").concat(this.game.controller.getKey("right"),")\n  SHOOT  (").concat(this.game.controller.getKey("shoot"),")\n  SHIELD (").concat(this.game.controller.getKey("shield"),")\n\nSHOOT UP TO 5 BULLETS\nAT A TIME.\n\nSHIELD MAKES YOU\nINVULNERABLE FOR A\nSHORT TIME AT A\nCOST OF 25% METER.\n\nSHIELD+SHOOT TO DASH\n\n    360+SHOOT TO CLEAR\n    OUT NEARBY ENEMY\n    PROJECTILES AT A\n    COST OF 50% METER.\n\nMETER IS BUILT WHEN\nA BULLET HITS THE\nENEMY.\n"),n)),e.push(this.add.sprite(105,461,"howto360"))}return e}},{key:"drawMenuBox",value:function(t,e,n,i,s,o){this.game.canvas.height;var r,a,u=this.game.canvas.width/2,c=[u-n/2,s+o*t,n,i];if((r=this.graphics).fillRect.apply(r,c),(a=this.graphics).strokeRect.apply(a,c),e)return this.add.text(u,this.cursorPositionsY[this.menu][t],e,{fontFamily:"Kong Text",fill:"#000",backgroundColor:"#fff"}).setOrigin(.5)}},{key:"update",value:function(){if(this.ship.y=this.shipY+7*Math.sin(.1*this.shipI++/Math.PI),!this.changingKey&&(this.game.controller.pressingButton("down")&&1<this.cursorPositionsY[this.menu].length&&(0===this.i&&(this.cursorPosition[this.menu]=(this.cursorPosition[this.menu]+1)%this.cursorPositionsY[this.menu].length,this.menuSelect.play()),this.i=(this.i+1)%this.ix),this.game.controller.pressingButton("up")&&1<this.cursorPositionsY[this.menu].length&&(0===this.i&&(this.cursorPosition[this.menu]=(this.cursorPosition[this.menu]+this.cursorPositionsY[this.menu].length-1)%this.cursorPositionsY[this.menu].length,this.menuSelect.play()),this.i=(this.i+1)%this.ix),this.moveCursor(),this.game.controller.pressingButton("shoot"))){if(0===this.i)if(this.menu===this.menuEnum.main)switch(this.menuClick.play(),this.cursorPosition[this.menu]){case 0:this.removeAnimations(),this.game.controller.releaseAll(),this.scene.start("Game");break;case 1:this.drawMenu(this.menuEnum.config);break;case 2:this.drawMenu(this.menuEnum.howto)}else if(this.menu===this.menuEnum.config){var t=[null,"up","down","left","right","shoot","shield"];switch(this.cursorPosition[this.menu]){case 0:this.cursorPosition[this.menu]=1,this.drawMenu(this.menuEnum.main),this.menuBack.play();break;case 1:case 2:case 3:case 4:case 5:case 6:this.menuClick.play(),this.graphics.fillRect(50,135,this.game.canvas.width-100,150),this.graphics.strokeRect(50,135,this.game.canvas.width-100,150),this.menuObjects.push(this.add.text(80,165,"Press a key\nto change the\n'".concat(t[this.cursorPosition[this.menu]],"' button\n\nESC to cancel"),{fontFamily:"Kong Text",fill:"#000",backgroundColor:"#fff"})),this.changingKey=!0,this.buttonToChange=t[this.cursorPosition[this.menu]]}}else this.menu===this.menuEnum.howto&&(this.drawMenu(this.menuEnum.main),this.menuBack.play());this.i=(this.i+1)%this.ix}}}])&&a(n.prototype,i),s&&a(n,s),e}()},{}],39:[function(t,e,n){"use strict";e.exports={decorate:function(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}}},{}]},{},[36]);