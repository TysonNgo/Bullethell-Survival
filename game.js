!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var Key=function Key(button,down){_classCallCheck(this,Key),this.button=button,this.down=down,this.held=!1};module.exports=function(){function Controller(){_classCallCheck(this,Controller),this.up=new Key("up",!1),this.down=new Key("down",!1),this.left=new Key("left",!1),this.right=new Key("right",!1),this.shoot=new Key("shoot",!1),this.shield=new Key("shield",!1),this.keys={ArrowUp:this.up,ArrowDown:this.down,ArrowLeft:this.left,ArrowRight:this.right,KeyX:this.shoot,KeyZ:this.shield}}var Constructor,protoProps,staticProps;return Constructor=Controller,(protoProps=[{key:"getKey",value:function(button){if(~["up","down","left","right","shoot","shield"].indexOf(button))for(var key in button=this[button],this.keys)if(this.keys[key]===button)return key}},{key:"changeKey",value:function(button,key){var tempKey;if(~["up","down","left","right","shoot","shield"].indexOf(button))if(key in this.keys){if((tempKey=this.keys[key]).button===button)return!1;for(var k in this.keys)if(this.keys[k].button===button)return this.keys[key]=this.keys[k],this.keys[k]=tempKey,!0}else for(var _k in this.keys)if(this.keys[_k].button===button)return this.keys[key]=this.keys[_k],delete this.keys[_k],!0;return!1}},{key:"press",value:function(key){key in this.keys&&(this.keys[key].down&&(this.keys[key].held=!0),this.keys[key].down=!0)}},{key:"release",value:function(key){key in this.keys&&(this.keys[key].down=!1,this.keys[key].held=!1)}},{key:"releaseAll",value:function(){for(var key in this.keys)this.keys[key].down=!1}},{key:"pressingButton",value:function(){var button=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return~["up","down","left","right","shoot","shield"].indexOf(button)?this[button].down:Object.values(this.keys).some(function(k){return k.down})}},{key:"buttonHeld",value:function(button){return!!~["up","down","left","right","shoot","shield"].indexOf(button)&&this[button].held}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Controller}()},{}],2:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function _class(scene){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,_class),this.scene=scene,this.speedlines=Array(100);for(var i=0;i<this.speedlines.length;i++)this.speedlines[i]=this.scene.add.sprite(Math.random()*this.scene.game.canvas.width,Math.random()*this.scene.game.canvas.height,"speedline"),this.speedlines[i].depth=-100}var Constructor,protoProps,staticProps;return Constructor=_class,staticProps=[{key:"loadAssets",value:function(scene){scene.load.image("speedline","assets/game/speedline.png")}}],(protoProps=[{key:"update",value:function(){for(var i=0;i<this.speedlines.length;i++)this.speedlines[i].y+=20,this.speedlines[i].y>this.scene.game.canvas.height+this.speedlines[i].height&&(this.speedlines[i].x=Math.random()*this.scene.game.canvas.width,this.speedlines[i].y=Math.random()*this.scene.game.canvas.height,this.speedlines[i].setScale(1,1.5*Math.random()+.7))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),_class}()},{}],3:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function Entity(x,y,width,height){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Entity),this.x=x,this.y=y,this.width=width,this.height=height,this.active=!0,this.hitboxes=[],this.addHitboxes()}var Constructor,protoProps,staticProps;return Constructor=Entity,staticProps=[{key:"loadAssets",value:function(scene){}}],(protoProps=[{key:"addHitboxes",value:function(){this.hitboxes.push({x:-this.width/2,y:-this.height/2,width:this.width,height:this.height})}},{key:"collidesWith",value:function(entity){var _this=this,hitboxes1=this.hitboxes,hitboxes2=entity.hitboxes,r=!1;return hitboxes1.forEach(function(h1){hitboxes2.forEach(function(h2){var x1=_this.x+h1.x,y1=_this.y+h1.y,x2=entity.x+h2.x,y2=entity.y+h2.y;x1<x2+h2.width&&x1+h1.width>x2&&y1<y2+h2.height&&y1+h1.height>y2&&(r=!0)})}),r}},{key:"update",value:function(){}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Entity}()},{}],4:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function Timer(scene){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Timer),this.scene=scene,this.frames=0,this._stop=!1,this.text=this.scene.add.text(this.scene.game.canvas.width-41,30,"",{fontFamily:"Kong Text",fill:"#000",backgroundColor:"rgba(255,255,255,0.5)"}),this.text.setOrigin(1),this.text.depth=1e3,this.textMM=this.scene.add.text(this.scene.game.canvas.width-5,30,".00",{fontFamily:"Kong Text",fill:"#000",fontSize:"12px",backgroundColor:"rgba(255,255,255,0.5)"}),this.textMM.setOrigin(1),this.textMM.depth=1e3}var Constructor,protoProps,staticProps;return Constructor=Timer,(protoProps=[{key:"getHHMMSS",value:function(frames){if(frames=frames||this.frames,!Number.isInteger(frames))return null;var s=frames/this.scene.game.loop.targetFps,m=s/60,mm=((s%=60)-Math.floor(s)).toFixed(2).substr(1);s=Math.floor(s);var h=Math.floor(m/60);return m=Math.floor(m%60),{h:h<100?("00"+h).slice(-2):h.toString(),m:("00"+m).slice(-2),s:("00"+s).slice(-2),mm:mm}}},{key:"stop",value:function(){this._stop=!0,this.text.alpha=.3,this.textMM.alpha=.3}},{key:"update",value:function(){if(!this._stop){this.frames++;var _this$getHHMMSS=this.getHHMMSS(),h=_this$getHHMMSS.h,m=_this$getHHMMSS.m,s=_this$getHHMMSS.s,mm=_this$getHHMMSS.mm;this.text.setText("".concat(h,":").concat(m,":").concat(s)),this.textMM.setText(mm)}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Timer}()},{}],5:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Entity=require("../Entity"),trapInBounds=require("../trapInBounds"),Patterns=require("./Patterns"),Radar=require("./projectiles/Radar"),Orb=require("./projectiles/Orb"),Missile=require("./projectiles/Missile"),ProjectileContainer=require("./ProjectileContainer"),Boss=function(_Entity){function Boss(scene,x,y){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Boss),self=this,(_this=!(call=_getPrototypeOf(Boss).call(this,x,y,125,110))||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call).scene=scene,_this.scene.addObject("boss",_assertThisInitialized(_assertThisInitialized(_this))),_this.fastSFX=_this.scene.sound.add("bossFast"),_this.shakeSFX=_this.scene.sound.add("bossShake"),_this.retreatSFX=_this.scene.sound.add("bossRetreat"),_this.USweepSFX=_this.scene.sound.add("bossUSweep"),_this.orbSFX=_this.scene.sound.add("bossOrb"),_this.chargeSFX=_this.scene.sound.add("bossCharge"),_this.chargedOrbSFX=_this.scene.sound.add("bossChargedOrb"),_this.missileSFX=_this.scene.sound.add("bossMissile"),_this.trackSFX=_this.scene.sound.add("bossTrack"),_this.radarSFX=_this.scene.sound.add("bossRadar"),_this.createAnimations(),_this.patterns=new Patterns(_assertThisInitialized(_assertThisInitialized(_this))),_this.sprite=_this.scene.add.sprite(_this.x,_this.y,"boss"),_this.spriteJetfire=_this.scene.add.sprite(_this.x,_this.y,"boss_jetfire"),_this.spriteJetfire.anims.play("boss_jetfire_animation"),_this.numPatterns=5,_this.chargedOrb=new ProjectileContainer(_assertThisInitialized(_assertThisInitialized(_this)),Orb,_this.numPatterns,"charged"),_this.linearRadialOrbs=new ProjectileContainer(_assertThisInitialized(_assertThisInitialized(_this)),Orb,160*_this.numPatterns,"linear"),_this.spiralOrbs=new ProjectileContainer(_assertThisInitialized(_assertThisInitialized(_this)),Orb,160*_this.numPatterns,"spiral"),_this.radars=new ProjectileContainer(_assertThisInitialized(_assertThisInitialized(_this)),Radar,_this.numPatterns),_this.twinMissiles=new ProjectileContainer(_assertThisInitialized(_assertThisInitialized(_this)),Missile,2*_this.numPatterns),_this.slowMissile=new ProjectileContainer(_assertThisInitialized(_assertThisInitialized(_this)),Missile,_this.numPatterns),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Boss,Entity),Constructor=Boss,staticProps=[{key:"loadAssets",value:function(scene){Patterns.loadAssets(scene),scene.load.spritesheet("boss","assets/game/boss/boss.png",{frameWidth:214,frameHeight:191}),scene.load.spritesheet("boss_jetfire","assets/game/boss/jetfire.png",{frameWidth:214,frameHeight:191}),scene.load.audio("bossFast",["assets/audio/bossFast.mp3","assets/audio/bossFast.ogg"]),scene.load.audio("bossShake",["assets/audio/bossShake.mp3","assets/audio/bossShake.ogg"]),scene.load.audio("bossRetreat",["assets/audio/bossRetreat.mp3","assets/audio/bossRetreat.ogg"]),scene.load.audio("bossUSweep",["assets/audio/bossUSweep.mp3","assets/audio/bossUSweep.ogg"]),scene.load.audio("bossOrb",["assets/audio/bossOrb.mp3","assets/audio/bossOrb.ogg"]),scene.load.audio("bossCharge",["assets/audio/bossCharge.mp3","assets/audio/bossCharge.ogg"]),scene.load.audio("bossChargedOrb",["assets/audio/bossChargedOrb.mp3","assets/audio/bossChargedOrb.ogg"]),scene.load.audio("bossMissile",["assets/audio/bossMissile.mp3","assets/audio/bossMissile.ogg"]),scene.load.audio("bossTrack",["assets/audio/bossTrack.mp3","assets/audio/bossTrack.ogg"]),scene.load.audio("bossRadar",["assets/audio/bossRadar.mp3","assets/audio/bossRadar.ogg"])}}],(protoProps=[{key:"setRotation",value:function(deg){this.sprite.angle=deg,this.spriteJetfire.angle=deg}},{key:"addHitboxes",value:function(){this.hitboxes.push({x:-30.5,y:-59,width:65,height:110},{x:-59.5,y:-19,width:123,height:62},{x:-70.5,y:23,width:145,height:13})}},{key:"createAnimations",value:function(){Patterns.createAnimations(this.scene),this.scene.anims.create({key:"boss_hit_animation",frames:this.scene.anims.generateFrameNumbers("boss",{start:0,end:2}),frameRate:12,yoyo:!0}),this.scene.anims.create({key:"boss_jetfire_animation",frames:this.scene.anims.generateFrameNumbers("boss_jetfire",{start:0,end:3}),frameRate:8,repeat:-1})}},{key:"random",value:function(){return Math.random()}},{key:"removeAnimations",value:function(){Patterns.removeAnimations(this.scene),this.scene.anims.remove("boss_hit_animation"),this.scene.anims.remove("boss_jetfire_animation")}},{key:"hit",value:function(){this.sprite.anims.isPlaying||this.sprite.anims.play("boss_hit_animation")}},{key:"updateSprite",value:function(){this.spriteJetfire.visible=this.active,this.sprite.visible=this.active,this.spriteJetfire.x=this.x,this.spriteJetfire.y=this.y,this.sprite.x=this.x,this.sprite.y=this.y}},{key:"updateProjectiles",value:function(){this.radars.forEach(function(r){return r.update()}),this.linearRadialOrbs.forEach(function(r){return r.update()}),this.spiralOrbs.forEach(function(r){return r.update()}),this.chargedOrb.forEach(function(r){return r.update()}),this.twinMissiles.forEach(function(r){return r.update()}),this.slowMissile.forEach(function(r){return r.update()})}},{key:"update",value:function(){this.updateSprite(),this.updateProjectiles(),this.patterns.exec()}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Boss}();trapInBounds(Boss),module.exports=Boss},{"../Entity":3,"../trapInBounds":35,"./Patterns":20,"./ProjectileContainer":21,"./projectiles/Missile":22,"./projectiles/Orb":23,"./projectiles/Radar":24}],6:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern");module.exports=function(_Pattern){function ChargedOrb(boss){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ChargedOrb),_possibleConstructorReturn(this,_getPrototypeOf(ChargedOrb).call(this,boss))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ChargedOrb,Pattern),Constructor=ChargedOrb,(protoProps=[{key:"update",value:function(){var defaultUpdate=this._update,orb=this.boss.chargedOrb.get();return orb&&!orb.shoot&&(orb.x=this.boss.x+1,orb.y=this.boss.y+58,this.boss.chargeSFX.play({delay:.1}),orb.chargeAndShoot()),orb&&orb.y>=this.boss.scene.game.canvas.height?(this.boss.patterns.finish(),defaultUpdate):function(){this.updateProjectiles(),!orb||orb.shoot?(this.update=defaultUpdate,this.patterns.finish()):(orb.x=this.x+1,orb.y=this.y+58)}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),ChargedOrb}()},{"./Pattern":9}],7:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern");module.exports=function(_Pattern){function FastMove(boss){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FastMove),_possibleConstructorReturn(this,_getPrototypeOf(FastMove).call(this,boss))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(FastMove,Pattern),Constructor=FastMove,(protoProps=[{key:"update",value:function(){var defaultUpdate=this._update,move=!1,done=!1,x=this.boss.x,y=this.boss.y,i=0,maxX=this.boss.scene.game.canvas.width,finX=this.boss.random()*(maxX-0)+0,finY=320*this.boss.random()+65;return function(){if(this.updateProjectiles(),done)return this.x=Math.round(this.x),this.y=Math.round(this.y),this.update=defaultUpdate,void this.patterns.finish();move?(10<=i&&(done=!0),this.x+=(finX-x)/10,this.y+=(finY-y)/10):(0===i&&this.shakeSFX.play(),i%4==0&&(this.x=x+Math.floor((.5<this.random()?1:-1)*this.random()*10),this.y=y+Math.floor((.5<this.random()?1:-1)*this.random()*10)),(i+1)%40==0&&(this.x=x,this.y=y,move=!0,i=0,this.fastSFX.play())),this.updateSprite(),i++}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),FastMove}()},{"./Pattern":9}],8:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern");module.exports=function(_Pattern){function LinearRadialOrb(boss){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LinearRadialOrb),_possibleConstructorReturn(this,_getPrototypeOf(LinearRadialOrb).call(this,boss))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(LinearRadialOrb,Pattern),Constructor=LinearRadialOrb,(protoProps=[{key:"update",value:function(){var defaultUpdate=this._update,i=0,orbClusters=10;return function(){if(orbClusters<=0&&(this.update=defaultUpdate,this.patterns.finish()),i%15==0&&0<orbClusters){var orbs=this.linearRadialOrbs.get(16);if(orbs){this.orbSFX.play();var angleOffset=Math.PI*this.random();orbs.forEach(function(orb,i){var angle=2*Math.PI/orbs.length*i+angleOffset;orb.angle=angle,orb.fire()})}orbClusters--}this.updateProjectiles(),i++}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),LinearRadialOrb}()},{"./Pattern":9}],9:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function Pattern(boss){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Pattern),this.boss=boss,this._update=this.boss.update}var Constructor,protoProps,staticProps;return Constructor=Pattern,(protoProps=[{key:"update",value:function(){}},{key:"exec",value:function(){this.boss.update=this.update()}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Pattern}()},{}],10:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern");require("../projectiles/Radar");module.exports=function(_Pattern){function RadarAttack(boss){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,RadarAttack),_possibleConstructorReturn(this,_getPrototypeOf(RadarAttack).call(this,boss))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(RadarAttack,Pattern),Constructor=RadarAttack,(protoProps=[{key:"update",value:function(){var defaultUpdate=this._update,radar=this.boss.radars.get();radar&&!radar.start&&(this.boss.radarSFX.play(),radar.start=!0,radar.x=this.boss.x,radar.y=this.boss.y);var i=0;return function(){30<=i&&(this.update=defaultUpdate,this.patterns.finish()),defaultUpdate.call(this),i++}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),RadarAttack}()},{"../projectiles/Radar":24,"./Pattern":9}],11:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern");module.exports=function(_Pattern){function Retreat(boss){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Retreat),_possibleConstructorReturn(this,_getPrototypeOf(Retreat).call(this,boss))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Retreat,Pattern),Constructor=Retreat,(protoProps=[{key:"update",value:function(){var defaultUpdate=this._update,x=this.boss.x,y=this.boss.y,backX=this.boss.random()*this.boss.scene.game.canvas.width,i=1;return this.boss.retreatSFX.play(),function(){if(50<=i)return this.x=Math.round(backX),this.y=Math.round(65),this.update=defaultUpdate,void this.patterns.finish();i%5==0&&(this.x+=(backX-x)*Math.pow(2,-i/5),this.y+=(65-y)*Math.pow(2,-i/5)),defaultUpdate.call(this),i++}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Retreat}()},{"./Pattern":9}],12:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern");module.exports=function(_Pattern){function SineMove(boss){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SineMove),_possibleConstructorReturn(this,_getPrototypeOf(SineMove).call(this,boss))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SineMove,Pattern),Constructor=SineMove,(protoProps=[{key:"update",value:function(){var defaultUpdate=this._update,gameWidth=this.boss.scene.game.canvas.width,left=this.boss.x<gameWidth/2,x=this.boss.x,y=this.boss.y,finX=gameWidth*left+Math.pow(-1,left)*(this.boss.width/2),d=Math.abs(finX-x)/2,i=0;return function(){if(this.x=x+Math.pow(-1,!left)*i*2,this.y=y+30*Math.sin(i/8),d<=i)return this.x=Math.round(this.x),this.y=Math.round(this.y),this.update=defaultUpdate,void this.patterns.finish();defaultUpdate.call(this),i++}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),SineMove}()},{"./Pattern":9}],13:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern");module.exports=function(_Pattern){function SlowMissile(boss){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SlowMissile),_possibleConstructorReturn(this,_getPrototypeOf(SlowMissile).call(this,boss))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SlowMissile,Pattern),Constructor=SlowMissile,(protoProps=[{key:"update",value:function(){var defaultUpdate=this._update,missile=this.boss.slowMissile.get();missile&&(this.boss.missileSFX.play(),missile.active=!0,missile.fired=!0,missile.x=this.boss.x,missile.y=this.boss.y,missile.speed=4);var i=0;return function(){if(defaultUpdate.call(this),30<=i)return this.update=defaultUpdate,void this.patterns.finish();i++}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),SlowMissile}()},{"./Pattern":9}],14:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern");module.exports=function(_Pattern){function SlowMove(boss){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SlowMove),_possibleConstructorReturn(this,_getPrototypeOf(SlowMove).call(this,boss))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SlowMove,Pattern),Constructor=SlowMove,(protoProps=[{key:"update",value:function(){var defaultUpdate=this._update,rad=2*this.boss.random()*Math.PI,radius=Math.floor(75*this.boss.random()+50),x=Math.cos(rad)*radius,y=Math.sin(rad)*radius,d=1,dunit=d,m=Math.pow(Math.pow(d,2)/(Math.pow(x,2)+Math.pow(y,2)),.5);return x*=m,y*=m,function(){if(radius<d)return this.x=Math.round(this.x),this.y=Math.round(this.y),this.update=defaultUpdate,void this.patterns.finish();this.x+=x,this.y+=y,defaultUpdate.call(this),d+=dunit}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),SlowMove}()},{"./Pattern":9}],15:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern");module.exports=function(_Pattern){function SpiralOrb(boss){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,SpiralOrb),_possibleConstructorReturn(this,_getPrototypeOf(SpiralOrb).call(this,boss))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(SpiralOrb,Pattern),Constructor=SpiralOrb,(protoProps=[{key:"update",value:function(){var defaultUpdate=this._update,i=0,orbClusters=10;return function(){if(orbClusters<=0&&(this.update=defaultUpdate,this.patterns.finish()),i%15==0&&0<orbClusters){var orbs=this.spiralOrbs.get(16);orbs&&(this.orbSFX.play(),orbs.forEach(function(orb,i){var angle=2*Math.PI/orbs.length*i;orb.angle=angle,orb.fire()})),orbClusters--}this.updateProjectiles(),i++}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),SpiralOrb}()},{"./Pattern":9}],16:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern"),teleport=require("../projectiles/Teleport");module.exports=function(_Pattern){function Teleport(boss){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Teleport),(_this=_possibleConstructorReturn(this,_getPrototypeOf(Teleport).call(this,boss))).teleport=new teleport(_this.boss),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Teleport,Pattern),Constructor=Teleport,(protoProps=[{key:"update",value:function(){var teleport=this.teleport,defaultUpdate=this._update,moveBoss=!1,bossReappear=!1,done=!1,i=0;return this.teleport.active=!0,this.teleport.sprite.anims.play("boss_teleport_animation"),this.teleport.sprite.on("animationcomplete",function(animation,frame){this.anims._reverse||(moveBoss=!0),this.visible=!1},this.teleport.sprite),function(){if(this.updateProjectiles(),done)return 30<=i&&(this.update=defaultUpdate,this.patterns.finish()),i++,void this.updateSprite();if(moveBoss){if(this.active=!1,teleport.active=!1,this.scene.objects.player){var rad=this.random()*(Math.PI-2*Math.PI/4)+Math.PI/4;this.x=Math.floor(this.scene.objects.player[0].x+200*Math.cos(rad)),this.y=Math.floor(this.scene.objects.player[0].y+(this.scene.objects.player[0].y<200?1:-1)*Math.sin(rad)*200)}return defaultUpdate.call(this),void(bossReappear=!(moveBoss=!1))}bossReappear&&(teleport.SFX.play(),teleport.active=!0,this.active=!0,teleport.sprite.anims.playReverse("boss_teleport_animation"),done=!(bossReappear=!1)),teleport.update()}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Teleport}()},{"../projectiles/Teleport":25,"./Pattern":9}],17:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern");module.exports=function(_Pattern){function TrackTackle(boss){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TrackTackle),(_this=_possibleConstructorReturn(this,_getPrototypeOf(TrackTackle).call(this,boss)))._hit=boss.hit,_this.graphics=boss.scene.add.graphics({lineStyle:{color:5592405,width:5}}),_this.graphics.depth=-5,_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(TrackTackle,Pattern),Constructor=TrackTackle,(protoProps=[{key:"update",value:function(){var defaultUpdate=this._update,defaultHit=this._hit,hits=0,graphics=this.graphics,player=this.boss.scene.objects.player;if(!player)return this.boss.patterns.finish(),defaultUpdate;player=player[0];var vX,vY,x1,x2,y1,y2,m,d,tackle=!(this.boss.hit=function(){defaultHit.call(this),hits++}),done=!1,i=0,travelled=0,initX=this.boss.x,initY=this.boss.y;return this.boss.trackSFX.play(),function(){if(graphics.clear(),done)return this.hit=defaultHit,this.update=defaultUpdate,this.patterns.finish(),void(this.sprite.tint=void 0);60<i&&!tackle&&(tackle=!0,this.fastSFX.play());var hex=parseInt((i%16+"").repeat(6),16);if(this.sprite.tint=hex,tackle){travelled+=20,m=Math.pow(Math.pow(20,2)/(Math.pow(vX,2)+Math.pow(vY,2)),.5),this.x+=m*vX,this.y+=m*vY,d<=travelled&&(done=!0)}else x1=this.x+2,y1=this.y+55,vX=player.x-x1,vY=player.y-y1,m=Math.max(1-hits/12,.25),x2=x1+m*vX,y2=y1+m*vY,vX=player.x-initX,vY=player.y-initY,d=Math.pow(Math.pow(m*vX,2)+Math.pow(m*vY,2),.5),graphics.beginPath(),graphics.moveTo(x1,y1),graphics.lineTo(x2,y2),graphics.closePath(),graphics.strokePath();defaultUpdate.call(this),i++}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),TrackTackle}()},{"./Pattern":9}],18:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern");module.exports=function(_Pattern){function TwinMissiles(boss){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TwinMissiles),_possibleConstructorReturn(this,_getPrototypeOf(TwinMissiles).call(this,boss))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(TwinMissiles,Pattern),Constructor=TwinMissiles,(protoProps=[{key:"update",value:function(){var m1,m2,_this=this,defaultUpdate=this._update,missiles=this.boss.twinMissiles.get(2);missiles&&(missiles.forEach(function(m){m.active=!0,m.x=_this.boss.x,m.y=_this.boss.y}),m1=missiles[0],m2=missiles[1]);var i=0;return function(){if(defaultUpdate.call(this),30<=i||!missiles)return this.update=defaultUpdate,void this.patterns.finish();25===i?(this.missileSFX.play(),m1.fired=!0,m2.fired=!0,m1.speed=m2.speed):(m1.x-=2,m1.y-=2,m2.x+=2,m2.y=m1.y),i++}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),TwinMissiles}()},{"./Pattern":9}],19:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Pattern=require("./Pattern");module.exports=function(_Pattern){function USweep(boss){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,USweep),_possibleConstructorReturn(this,_getPrototypeOf(USweep).call(this,boss))}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(USweep,Pattern),Constructor=USweep,(protoProps=[{key:"update",value:function(){var defaultUpdate=this._update,done=!1,step=0,defaultHitbox=this.boss.hitboxes,hitbox=[{x:-this.boss.width/2,y:-this.boss.height/2,width:this.boss.width,height:this.boss.height}];return function(){if(done)return this.update=defaultUpdate,void this.patterns.finish();switch(step){case 0:235<this.y?step++:done=!0;break;case 1:this.y>-this.height?this.y-=10:(this.hitboxes=hitbox,this.y=-40,this.x=this.scene.game.canvas.width-this.width/2,step++,this.USweepSFX.play());break;case 2:this.y+=40,this.y>=this.scene.game.canvas.height-40&&(this.y=this.scene.game.canvas.height-this.height/2,step++);break;case 3:this.x-=40,this.x<=this.width/2&&step++,this.setRotation(90);break;case 4:this.y-=40,this.y<=-this.height&&(this.x=this.scene.game.canvas.width/2,this.hitboxes=defaultHitbox,step++),this.setRotation(180);break;case 5:this.y<this.scene.game.canvas.height/4?this.y+=10:done=!0,this.setRotation(0)}this.updateSprite(),this.updateProjectiles()}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),USweep}()},{"./Pattern":9}],20:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Missile=require("../projectiles/Missile"),Orb=require("../projectiles/Orb"),Teleport=(require("../projectiles/Radar"),require("../projectiles/Teleport")),Teleport2Player=require("./Teleport"),SlowMove=require("./SlowMove"),FastMove=require("./FastMove"),Retreat=require("./Retreat"),SineMove=require("./SineMove"),USweep=require("./USweep"),TrackTackle=require("./TrackTackle"),LinearRadialOrb=require("./LinearRadialOrb"),SpiralOrb=require("./SpiralOrb"),ChargedOrb=require("./ChargedOrb"),RadarAttack=require("./RadarAttack"),SlowMissile=require("./SlowMissile"),TwinMissiles=require("./TwinMissiles");module.exports=function(){function Patterns(boss){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Patterns),this.boss=boss,this.canExec=!0,this.patterns=[new SlowMove(this.boss),new SineMove(this.boss),new FastMove(this.boss),new ChargedOrb(this.boss),new Teleport2Player(this.boss),new LinearRadialOrb(this.boss),new SpiralOrb(this.boss),new TwinMissiles(this.boss),new USweep(this.boss),new TrackTackle(this.boss),new Retreat(this.boss),new SlowMissile(this.boss),new RadarAttack(this.boss)],this.p=Array(this.patterns.length).fill(1/this.patterns.length),this.n30s=0}var Constructor,protoProps,staticProps;return Constructor=Patterns,staticProps=[{key:"loadAssets",value:function(scene){Missile.loadAssets(scene),Orb.loadAssets(scene),Teleport.loadAssets(scene)}},{key:"createAnimations",value:function(scene){Missile.createAnimations(scene),Orb.createAnimations(scene),Teleport.createAnimations(scene)}},{key:"removeAnimations",value:function(scene){Missile.removeAnimations(scene),Orb.removeAnimations(scene),Teleport.removeAnimations(scene)}}],(protoProps=[{key:"finish",value:function(){this.canExec=!0}},{key:"adjustProbabilities",value:function(){var _this=this,n30s=Math.floor(this.boss.scene.timer.frames/this.boss.scene.game.loop.targetFps/30);n30s>this.n30s&&(this.p.forEach(function(p,i){switch(_this.patterns[i].constructor.name){case SlowMove.name:case SineMove.name:.01<p&&_this.increaseProbability(i,-.1,RadarAttack.name);break;case FastMove.name:p<1/12&&_this.increaseProbability(i,.05);break;case ChargedOrb.name:.02<p&&_this.increaseProbability(i,-.05);break;case Teleport2Player.name:p<1/6&&_this.increaseProbability(i,.1);break;case LinearRadialOrb.name:case SpiralOrb.name:.05<p&&_this.increaseProbability(i,-.01);break;case TwinMissiles.name:case USweep.name:case TrackTackle.name:case Retreat.name:break;case SlowMissile.name:case RadarAttack.name:p<.25&&_this.increaseProbability(i,.1)}}),this.n30s=n30s)}},{key:"increaseProbability",value:function(i,m){var _this2=this,distribute=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"all",amount=this.p[i]*m;this.p[i]+=amount,this.patterns.forEach(function(p,index){if("all"===distribute){var a=amount/_this2.p.length;p.constructor.name!==_this2.p[i].constructor.name&&(_this2.p[index]-=a,_this2.p[index]<0&&(_this2.p[i]+=Math.abs(_this2.p[index]),_this2.p[index]=0))}else p.constructor.name===distribute&&(_this2.p[index]-=amount)})}},{key:"_getRandomIndex",value:function(){var random=this.boss.random(),index=this.patterns.length-1;return this.p.some(function(prob,i){if(random<prob)return index=i,!0;random-=prob}),index}},{key:"exec",value:function(){if(this.adjustProbabilities(),this.canExec){this.canExec=!1;var rn=this._getRandomIndex();this.patterns[rn].exec()}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Patterns}()},{"../projectiles/Missile":22,"../projectiles/Orb":23,"../projectiles/Radar":24,"../projectiles/Teleport":25,"./ChargedOrb":6,"./FastMove":7,"./LinearRadialOrb":8,"./RadarAttack":10,"./Retreat":11,"./SineMove":12,"./SlowMissile":13,"./SlowMove":14,"./SpiralOrb":15,"./Teleport":16,"./TrackTackle":17,"./TwinMissiles":18,"./USweep":19}],21:[function(require,module,exports){"use strict";function _construct(Parent,args,Class){return(_construct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(){function ProjectileContainer(boss,projectile,n){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ProjectileContainer),this.projectiles=[],this.availableProjectiles=[];for(var _len=arguments.length,args=new Array(3<_len?_len-3:0),_key=3;_key<_len;_key++)args[_key-3]=arguments[_key];for(var i=0;i<n;i++){var p=_construct(projectile,[boss].concat(args));p.addContainer(this),this.projectiles.push(p),this.availableProjectiles.push(p)}}var Constructor,protoProps,staticProps;return Constructor=ProjectileContainer,(protoProps=[{key:"get",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(0===this.availableProjectiles.length)return!1;if(0===n)return this.availableProjectiles.pop();if(this.availableProjectiles.length<n)return!1;for(var result=[],i=0;i<n;i++)result.push(this.availableProjectiles.pop());return result}},{key:"reload",value:function(projectile){this.availableProjectiles.push(projectile)}},{key:"forEach",value:function(cb){return this.projectiles.forEach(cb)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),ProjectileContainer}()},{}],22:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Entity=require("../../Entity");module.exports=function(_Entity){function Missile(boss){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Missile),self=this,(_this=!(call=_getPrototypeOf(Missile).call(this,boss.x,boss.y,11,55))||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call).boss=boss,_this.boss.scene.addObject("boss_missile",_assertThisInitialized(_assertThisInitialized(_this))),_this.active=!1,_this.fired=!1,_this.setSpeed(),_this.sprite=_this.boss.scene.add.sprite(_this.x,_this.y,"boss_missile"),_this.spriteFire=_this.boss.scene.add.sprite(_this.x,_this.y,"boss_missile_fire"),_this.spriteFire.play("boss_missile_fire_animation"),_this.sprite.depth=-1,_this.spriteFire.depth=-1,_this.container=[],_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Missile,Entity),Constructor=Missile,staticProps=[{key:"loadAssets",value:function(scene){scene.load.image("boss_missile","assets/game/boss/missile.png"),scene.load.spritesheet("boss_missile_fire","assets/game/boss/missile_fire.png",{frameWidth:38,frameHeight:140})}},{key:"createAnimations",value:function(scene){scene.anims.create({key:"boss_missile_fire_animation",frames:scene.anims.generateFrameNumbers("boss_missile_fire",{start:0,end:3}),frameRate:8,repeat:-1})}},{key:"removeAnimations",value:function(scene){scene.anims.remove("boss_missile_fire_animation")}}],(protoProps=[{key:"addContainer",value:function(container){this.container.push(container)}},{key:"destroy",value:function(){this.reload(),this.active=!1,this.fired=!1,this.y=0}},{key:"reload",value:function(){for(var i=0;i<this.container.length;i++)this.container[i].reload(this)}},{key:"setSpeed",value:function(){this.speed=10*this.boss.random()+10}},{key:"update",value:function(){this.fired&&(this.y+=this.speed,this.y>=this.boss.scene.game.canvas.height+this.height&&this.destroy()),this.sprite.x=this.x,this.sprite.y=this.y,this.spriteFire.x=this.x,this.spriteFire.y=this.y-38,this.sprite.visible=this.active,this.spriteFire.visible=this.active}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Missile}()},{"../../Entity":3}],23:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Entity=require("../../Entity");module.exports=function(_Entity){function Orb(boss,type){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Orb),self=this,call=_getPrototypeOf(Orb).call(this,boss.x,boss.y,6,6),(_this=!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call).boss=boss,_this.boss.scene.addObject("boss_orb",_assertThisInitialized(_assertThisInitialized(_this))),_this.type=type,_this.active=!1,_this.shoot=!1,_this.angle=0,_this.y+=80,_this.sprite=_this.boss.scene.add.sprite(_this.x,_this.y,"boss_orb"),_this.sprite.on("animationcomplete",function(){_this.boss.chargedOrbSFX.play(),_this.shoot=!0,_this.finalX=(_this.boss.scene.objects.player[0].x-_this.x)/15,_this.finalY=(_this.boss.scene.objects.player[0].y-_this.y)/15},_this.scene),_this.container=[],_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Orb,Entity),Constructor=Orb,staticProps=[{key:"loadAssets",value:function(scene){scene.load.spritesheet("boss_orb","assets/game/boss/orb.png",{frameWidth:56,frameHeight:56})}},{key:"createAnimations",value:function(scene){scene.anims.create({key:"boss_charge_orb",frames:scene.anims.generateFrameNumbers("boss_orb",{start:0,end:5}),frameRate:5})}},{key:"removeAnimations",value:function(scene){scene.anims.remove("boss_charge_orb")}}],(protoProps=[{key:"addContainer",value:function(container){this.container.push(container)}},{key:"destroy",value:function(){this.active=!1}},{key:"chargeAndShoot",value:function(){this.active=!0,this.sprite.anims.play("boss_charge_orb")}},{key:"fire",value:function(){this.active=!0,this.x=Math.floor(this.boss.x+100*Math.cos(this.angle)),this.y=Math.floor(this.boss.y+100*Math.sin(this.angle)),this.shoot=!0}},{key:"updateHitbox",value:function(){var width,height,hitbox=this.hitboxes[0];switch(this.sprite.frame.name){case 0:height=width=6;break;case 1:height=width=9;break;case 2:height=width=12;break;case 3:height=width=16;break;case 4:height=width=20;break;case 5:height=width=25}hitbox.x=-width/2,hitbox.y=-height/2,hitbox.width=width,hitbox.height=height}},{key:"update",value:function(){if((this.y<0||this.y>=this.boss.scene.game.canvas.height||this.x>=this.boss.scene.game.canvas.width||this.x<0)&&this.active){this.shoot=!1,this.active=!1,this.sprite.setFrame(0);for(var i=0;i<this.container.length;i++)this.container[i].reload(this)}else this.shoot&&("charged"===this.type?5===this.sprite.frame.name?(this.x+=this.finalX,this.y+=this.finalY):this.destroy():"linear"===this.type?(this.sprite.setFrame(1),this.x=Math.floor(this.x+2.5*Math.cos(this.angle)),this.y=Math.floor(this.y+2.5*Math.sin(this.angle))):"spiral"===this.type&&(this.sprite.setFrame(2),this.angle+=.01*(this.boss.x%2==0?1:-1),this.x=Math.floor(this.x+3*Math.cos(this.angle)),this.y=Math.floor(this.y+3*Math.sin(this.angle))));this.updateHitbox(),this.sprite.x=this.x,this.sprite.y=this.y,this.sprite.visible=this.active}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Orb}()},{"../../Entity":3}],24:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Entity=require("../../Entity");module.exports=function(_Entity){function Radar(boss){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Radar),self=this,(_this=!(call=_getPrototypeOf(Radar).call(this,boss.x,boss.y,7,7))||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call).boss=boss,_this.boss.scene.addObject("boss_radar",_assertThisInitialized(_assertThisInitialized(_this))),_this.speed=3,_this.active=!1,_this.start=!1,_this.graphics=_this.boss.scene.add.graphics({lineStyle:{color:0,width:7}}),_this.graphics.depth=-5,_this.radius=0,_this.i=0,_this.interval=60,_this.container=[],_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Radar,Entity),Constructor=Radar,(protoProps=[{key:"addContainer",value:function(container){this.container.push(container)}},{key:"addHitboxes",value:function(){}},{key:"changeHitboxes",value:function(){this.hitboxes.length=0;for(var r=this.radius,pi=Math.PI,numHitboxes=Math.round(Math.pow(pi*(r+this.width),2)-Math.pow(pi*r,2))/(this.width*this.height*4),radPerHitbox=pi/numHitboxes*2,i=0;i<numHitboxes;i++){var x=-(this.radius*Math.cos(radPerHitbox*i)+this.width/2),y=-(this.radius*Math.sin(radPerHitbox*i)+this.width/2);0<=this.x+x&&this.x+x<=this.boss.scene.game.canvas.width&&0<=this.y+y&&this.y+y<=this.boss.scene.game.canvas.height&&this.hitboxes.push({x:x,y:y,width:this.width,height:this.height})}}},{key:"destroy",value:function(){this.active=!1,this.graphics.clear(),this.stop()}},{key:"stop",value:function(){for(var i=0;i<this.container.length;i++)this.container[i].reload(this);this.start=!1,this.radius=0,this.speed=4*this.boss.random()+1,this.i=60*this.boss.random()+60}},{key:"update",value:function(){if(this.graphics.clear(),this.start){this.graphics.strokeCircle(this.x,this.y,this.radius);var alpha=this.i%this.interval/this.interval;if(this.graphics.alpha=.6<=alpha?(this.active=!0,1):(this.active=!1,.2),this.i++,this.changeHitboxes(),!(this.radius<=700))return this.stop(),!0;this.radius+=this.speed}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Radar}()},{"../../Entity":3}],25:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Entity=require("../../Entity");module.exports=function(_Entity){function Teleport(boss){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Teleport),(_this=_possibleConstructorReturn(this,_getPrototypeOf(Teleport).call(this,boss.x,boss.y))).boss=boss,_this.active=!1,_this.sprite=_this.boss.scene.add.sprite(_this.x,_this.y,"boss_teleport"),_this.sprite.visible=_this.active,_this.SFX=_this.boss.scene.sound.add("bossTeleport"),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Teleport,Entity),Constructor=Teleport,staticProps=[{key:"loadAssets",value:function(scene){scene.load.spritesheet("boss_teleport","assets/game/boss/teleport.png",{frameWidth:214,frameHeight:191}),scene.load.audio("bossTeleport",["assets/audio/bossTeleport.mp3","assets/audio/bossTeleport.ogg"])}},{key:"createAnimations",value:function(scene){scene.anims.create({key:"boss_teleport_animation",frames:scene.anims.generateFrameNumbers("boss_teleport",{start:0,end:2}),frameRate:8})}},{key:"removeAnimations",value:function(scene){scene.anims.remove("boss_teleport_animation")}}],(protoProps=[{key:"update",value:function(){this.sprite.visible=this.active,this.x=this.boss.x,this.y=this.boss.y,this.sprite.x=this.x,this.sprite.y=this.y}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Teleport}()},{"../../Entity":3}],26:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Entity=require("../Entity");module.exports=function(_Entity){function Bullet(player){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Bullet),self=this,(_this=!(call=_getPrototypeOf(Bullet).call(this,player.x+1,player.y-10,5,20))||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call).player=player,_this.player.scene.addObject("player_bullet",_assertThisInitialized(_assertThisInitialized(_this))),_this.speed=20,_this.active=!1,_this.sprite=_this.player.scene.add.sprite(_this.x,_this.y,"player_bullet"),_this.sprite.depth=-1,_this.bulletContainers=[],_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Bullet,Entity),Constructor=Bullet,staticProps=[{key:"loadAssets",value:function(scene){scene.load.image("player_bullet","assets/game/player/bullet.png")}}],(protoProps=[{key:"addBulletContainer",value:function(bulletContainer){this.bulletContainers.push(bulletContainer)}},{key:"unload",value:function(){this.active=!1;for(var i=0;i<this.bulletContainers.length;i++)this.bulletContainers[i].reload(this)}},{key:"fire",value:function(){this.active||(this.x=Math.floor(this.player.x+1),this.y=Math.floor(this.player.y-10),this.active=!0)}},{key:"update",value:function(){this.y<=-this.sprite.height&&this.active&&this.unload(),this.active&&(this.y-=this.speed),this.sprite.x=this.x,this.sprite.y=this.y,this.sprite.visible=this.active,this.player.scene.objects.boss&&this.collidesWith(this.player.scene.objects.boss[0])&&this.active&&(this.player.scene.objects.boss[0].hit(),this.player.shieldActive?this.player.meter.gainMeter(.3):this.player.meter.gainMeter(.8),this.unload())}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Bullet}()},{"../Entity":3}],27:[function(require,module,exports){"use strict";function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Bullet=require("./Bullet");module.exports=function(){function _class(bullets,player){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,_class),this.bullets=[],this.availableBullets=[];for(var i=0;i<bullets;i++){var bullet=new Bullet(player);bullet.addBulletContainer(this),this.bullets.push(bullet),this.availableBullets.push(bullet)}}var Constructor,protoProps,staticProps;return Constructor=_class,staticProps=[{key:"loadAssets",value:function(scene){Bullet.loadAssets(scene)}}],(protoProps=[{key:"reload",value:function(bullet){this.availableBullets.push(bullet)}},{key:"fire",value:function(){return 0!==this.availableBullets.length&&(this.availableBullets.pop().fire(),!0)}},{key:"update",value:function(){for(var i=0;i<this.bullets.length;i++)this.bullets[i].update()}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),_class}()},{"./Bullet":26}],28:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Entity=require("../Entity");module.exports=function(_Entity){function ClearRadius(player){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ClearRadius),self=this,call=_getPrototypeOf(ClearRadius).call(this,player.x,player.y),(_this=!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call).player=player,_this.player.scene.addObject("player_special",_assertThisInitialized(_assertThisInitialized(_this))),_this.active=!1,_this.createAnimations(),_this.sprite=_this.player.scene.add.sprite(_this.x,_this.y,"player_special"),_this.sprite.play("player_special"),_this.sprite.on("animationcomplete",function(){_this.active=!1}),_this.sprite.depth=50,_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ClearRadius,Entity),Constructor=ClearRadius,staticProps=[{key:"loadAssets",value:function(scene){scene.load.spritesheet("player_special","assets/game/player/special.png",{frameWidth:300,frameHeight:300})}}],(protoProps=[{key:"addHitboxes",value:function(){this.radius=150;var r=this.radius,w=Math.pow(Math.pow(2*r,2)/2,.5),rw=r/5*4;this.hitboxes.push({x:-w/2,y:-w/2,width:w,height:w},{x:-r,y:-rw/2,width:2*r,height:rw},{x:-rw/2,y:-r,width:rw,height:2*r});var sq=this.hitboxes[0],rwide=this.hitboxes[1],rlong=this.hitboxes[2];this.hitboxes.push({x:(sq.x+rwide.x)/2,y:(sq.y+rwide.y)/2,width:(sq.width+rwide.width)/2,height:(sq.height+rwide.height)/2},{x:(sq.x+rlong.x)/2,y:(sq.y+rlong.y)/2,width:(sq.width+rlong.width)/2,height:(sq.height+rlong.height)/2})}},{key:"createAnimations",value:function(){this.player.scene.anims.create({key:"player_special",frames:this.player.scene.anims.generateFrameNumbers("player_special",{start:0,end:6}),frameRate:5})}},{key:"removeAnimations",value:function(){this.player.scene.anims.remove("player_special")}},{key:"use",value:function(){this.player.specialSFX.play(),this.x=this.player.x,this.y=this.player.y,this.active=!0,this.sprite.play("player_special")}},{key:"update",value:function(){var _this2=this;for(var key in this.sprite.x=this.x,this.sprite.y=this.y,this.sprite.visible=this.active,this.player.scene.objects)key.startsWith("boss_")&&this.player.scene.objects[key].forEach(function(obj){_this2.collidesWith(obj)&&_this2.active&&obj.destroy()})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),ClearRadius}()},{"../Entity":3}],29:[function(require,module,exports){"use strict";var decorate=require("../../utils").decorate;module.exports=function(player){var holdingShoot=0,dashActive=20,delay=3,timers=[],dirBits=0;function setAfterImagePosition(img){img.x=this.x,img.y=this.y,img.visible=!0}player.prototype.update=decorate(player.prototype.update,function(){var _this=this;this.isDashing?((dashActive<=0||this.scene.game.controller.pressingButton("shoot")&&!this.scene.game.controller.pressingButton("shield"))&&(this.isDashing=!1,dashActive=20),dashActive--,8==(8&dirBits)&&(this.y-=this.speed*(1+dashActive/20)),4==(4&dirBits)&&(this.y+=this.speed*(1+dashActive/20)),2==(2&dirBits)&&(this.x-=this.speed*(1+dashActive/20)),1==(1&dirBits)&&(this.x+=this.speed*(1+dashActive/20)),delay?delay--:(this.spriteAfterImages.forEach(function(img,i){var img2;img2=0===i?_this:_this.spriteAfterImages[i-1],timers.push(_this.scene.time.addEvent({delay:180*i,callback:setAfterImagePosition,args:[img],callbackScope:img2}))}),delay=3)):this.spriteAfterImages.forEach(function(img){img.visible=!1,img.x=_this.x,img.y=_this.y}),this.scene.game.controller.pressingButton("shoot")?(holdingShoot++,this.scene.game.controller.pressingButton("shield")&&!this.scene.game.controller.buttonHeld("shield")&&holdingShoot<=3&&(this.isDashing||(dirBits=0)!==(dirBits=((dirBits=((dirBits=((dirBits=(dirBits<<1)+this.scene.game.controller.pressingButton("up"))<<1)+this.scene.game.controller.pressingButton("down"))<<1)+this.scene.game.controller.pressingButton("left"))<<1)+this.scene.game.controller.pressingButton("right"))&&(this.dashSFX.play(),this.isDashing=!0))):holdingShoot=0})}},{"../../utils":39}],30:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Entity=require("../Entity");module.exports=function(_Entity){function _class(){var _this,meter=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,scene=1<arguments.length?arguments[1]:void 0;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,_class),(_this=_possibleConstructorReturn(this,_getPrototypeOf(_class).call(this,15,13))).meterMax=1e3,_this.meter=Math.min(Math.max(meter/100*_this.meterMax,0),_this.meterMax)||0,_this.scene=scene,_this.barWidth=144,_this.scene.add.sprite(_this.x+69,_this.y+12,"meter",1).depth=99,_this.scene.add.sprite(_this.x+69,_this.y+12,"meter",0).depth=101,_this.graphics=_this.scene.add.graphics({fillStyle:{color:_this.getMeterColor()}}),_this.graphics.depth=100,_this.meterBarHeight=14,_this.graphics.fillRect(_this.x,_this.y,_this.meter/_this.meterMax*_this.barWidth,_this.meterBarHeight),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(_class,Entity),Constructor=_class,staticProps=[{key:"loadAssets",value:function(scene){scene.load.spritesheet("meter","assets/game/player/meter.png",{frameWidth:151,frameHeight:23})}}],(protoProps=[{key:"useBars",value:function(bars){return!(4<(bars=Math.round(bars))||bars<1||NaN===bars)&&(bars*=this.meterMax/4,this.meter>=bars&&(this.meter-=bars,!0))}},{key:"gainMeter",value:function(percent){this.meter=Math.min(this.meter+=this.meterMax*(percent/100),this.meterMax),this.meter=Math.max(0,this.meter)}},{key:"getMeterColor",value:function(){var meterPercent=this.meter/this.meterMax;return 1<=meterPercent?15392512:.75<=meterPercent?14680064:.5<=meterPercent?16737792:.25<=meterPercent?49152:5000396}},{key:"update",value:function(){this.graphics.clear(),this.graphics.fillStyle(this.getMeterColor()),this.graphics.fillRect(this.x,this.y,this.meter/this.meterMax*this.barWidth,this.meterBarHeight)}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),_class}()},{"../Entity":3}],31:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Entity=require("../Entity"),trapInBounds=require("../trapInBounds"),Meter=require("./Meter"),ClearRadius=require("./ClearRadius"),BulletContainer=require("./BulletContainer"),addDash=require("./Dash"),addShoot=require("./Shoot"),addShield=require("./Shield"),addSpecials=require("./Specials"),Player=function(_Entity){function Player(scene,x,y){var _this,self,call;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Player),self=this,call=_getPrototypeOf(Player).call(this,x,y,9,9),(_this=!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call).scene=scene,_this.scene.addObject("player",_assertThisInitialized(_assertThisInitialized(_this))),_this.createAnimations(),_this.listenKeystrokes(),_this.speed=3,_this.isDashing=!1,_this.sprite=_this.scene.add.sprite(_this.x,_this.y,"player"),_this.spriteAfterImages=[scene.add.sprite(_this.x,_this.y,"player"),scene.add.sprite(_this.x,_this.y,"player"),scene.add.sprite(_this.x,_this.y,"player")],_this.spriteAfterImages.forEach(function(img,i){img.tint=3355622,img.alpha=1-i/_this.spriteAfterImages.length,img.depth=-(i+1),img.visible=!1}),_this.spriteShield=_this.scene.add.sprite(_this.x,_this.y,"player_shield"),_this.spriteShield.visible=!1,_this.spriteJetfire=_this.scene.add.sprite(_this.x,_this.y,"player_jetfire"),_this.spriteJetfire.anims.play("player_jetfire_animation"),_this.meter=new Meter(0,_this.scene),_this.shootSFX=_this.scene.sound.add("playerShoot"),_this.shieldSFX=_this.scene.sound.add("playerShield"),_this.dashSFX=_this.scene.sound.add("playerDash"),_this.specialSFX=_this.scene.sound.add("playerSpecial"),_this.deathSFX=_this.scene.sound.add("playerDeath"),_this.bullets=new BulletContainer(5,_assertThisInitialized(_assertThisInitialized(_this))),_this.special=new ClearRadius(_assertThisInitialized(_assertThisInitialized(_this))),_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Player,Entity),Constructor=Player,staticProps=[{key:"loadAssets",value:function(scene){scene.load.spritesheet("player","assets/game/player/player.png",{frameWidth:50,frameHeight:50}),scene.load.image("player_shield","assets/game/player/shield.png"),scene.load.spritesheet("player_jetfire","assets/game/player/jetfire.png",{frameWidth:50,frameHeight:50}),Meter.loadAssets(scene),BulletContainer.loadAssets(scene),ClearRadius.loadAssets(scene),scene.load.audio("playerShoot",["assets/audio/playerShoot.mp3","assets/audio/playerShoot.ogg"]),scene.load.audio("playerDash",["assets/audio/playerDash.mp3","assets/audio/playerDash.ogg"]),scene.load.audio("playerShield",["assets/audio/playerShield.mp3","assets/audio/playerShield.ogg"]),scene.load.audio("playerSpecial",["assets/audio/playerSpecial.mp3","assets/audio/playerSpecial.ogg"]),scene.load.audio("playerDeath",["assets/audio/playerDeath.mp3","assets/audio/playerDeath.ogg"])}}],(protoProps=[{key:"createAnimations",value:function(){this.scene.anims.create({key:"player_death_animation",frames:this.scene.anims.generateFrameNumbers("player",{start:0,end:13}),frameRate:30}),this.scene.anims.create({key:"player_jetfire_animation",frames:this.scene.anims.generateFrameNumbers("player_jetfire",{start:0,end:4}),frameRate:8,repeat:-1}),this.scene.anims.create({key:"menuCursorAnimation",frames:this.scene.anims.generateFrameNumbers("menuCursor",{start:0,end:2}),frameRate:6,repeat:-1})}},{key:"removeAnimations",value:function(){this.scene.anims.remove("player_death_animation"),this.scene.anims.remove("player_jetfire_animation"),this.scene.anims.remove("menuCursorAnimation"),this.special.removeAnimations()}},{key:"listenKeystrokes",value:function(){var _this2=this;this.scene.input.keyboard.on("keydown",function(e){_this2.scene.game.controller.press(e.code)}),this.scene.input.keyboard.on("keyup",function(e){_this2.scene.game.controller.release(e.code)})}},{key:"hit",value:function(){this.scene.timer.stop(),this.sprite.anims.play("player_death_animation"),this.deathSFX.play(),this.sprite.on("animationcomplete",function(){this.visible=!1},this.sprite),this.spriteJetfire.destroy(),this.spriteAfterImages.forEach(function(s){return s.destroy()});this.scene.add.sprite(this.scene.game.canvas.width/2,this.scene.game.canvas.height/2,"menuBox");var graphics=this.scene.add.graphics({lineStyle:{color:0},fillStyle:{color:16777215}}),cursor=this.scene.add.sprite(this.scene.game.canvas.width/2,0,"menuCursor");cursor.anims.play("menuCursorAnimation");var buttonStyle={fontFamily:"Kong Text",fill:"#000",backgroundColor:"#fff"},centerX=this.scene.game.canvas.width/2,x=centerX-95,retry=[x,308,190,75],mainmenu=[x,390,190,75];graphics.strokeRect.apply(graphics,retry),graphics.fillRect.apply(graphics,retry),graphics.strokeRect.apply(graphics,mainmenu),graphics.fillRect.apply(graphics,mainmenu);var time=this.scene.timer.getHHMMSS();this.scene.add.text(centerX,185,"Time achieved:",buttonStyle).setOrigin(.5).setFontSize(10),this.scene.add.text(centerX,210,"".concat(time.h,":").concat(time.m,":").concat(time.s),buttonStyle).setOrigin(.5).setFontSize(19);var topScore,scores=localStorage.getItem("scores");if(scores)try{(scores=JSON.parse(scores)).push(this.scene.timer.frames),topScore=this.scene.timer.getHHMMSS(Math.max.apply(Math,_toConsumableArray(scores))),localStorage.setItem("scores",JSON.stringify(scores))}catch(e){console.log(e)}else topScore=time,localStorage.setItem("scores",JSON.stringify([this.scene.timer.frames]));this.scene.add.text(centerX,235,"Best time:",buttonStyle).setOrigin(.5).setFontSize(10),this.scene.add.text(centerX,260,"".concat(topScore.h,":").concat(topScore.m,":").concat(topScore.s),buttonStyle).setOrigin(.5).setFontSize(19),this.scene.add.text(centerX,retry[1]+37,"RETRY",buttonStyle).setOrigin(.5),this.scene.add.text(centerX,mainmenu[1]+37,"MAIN MENU",buttonStyle).setOrigin(.5),cursor.y=retry[1]+37;var option=0,i=0,j=0,changeScene=!1;this.update=function(){60<=j&&(i=this.scene.game.controller.pressingButton("up")?(0===i&&(option=+!option,this.scene.menuSelect.play()),(i+1)%20):this.scene.game.controller.pressingButton("down")?(0===i&&(option=+!option,this.scene.menuSelect.play()),(i+1)%20):0,this.scene.game.controller.pressingButton("shoot")&&(this.scene.player.removeAnimations(),this.scene.boss.removeAnimations(),this.scene.destroyObjects(),0!==option||changeScene?1!==option||changeScene||(this.scene.menuClick.play(),this.scene.scene.start("MainMenu")):(this.scene.menuClick.play(),this.scene.scene.start("Game")),changeScene=!0)),j++,cursor.y=[retry[1],mainmenu[1]][option]+37,this.meter.update(),this.bullets.update(),this.special.update()}}},{key:"updateSprite",value:function(){this.sprite.x=this.x,this.sprite.y=this.y,this.spriteJetfire.x=this.x,this.spriteJetfire.y=this.y}},{key:"update",value:function(){var _this3=this;for(var key in this.isDashing||(this.scene.game.controller.pressingButton("left")&&(this.x-=this.speed),this.scene.game.controller.pressingButton("up")&&(this.y-=this.speed),this.scene.game.controller.pressingButton("down")&&(this.y+=this.speed),this.scene.game.controller.pressingButton("right")&&(this.x+=this.speed)),this.updateSprite(),this.meter.update(),this.bullets.update(),this.special.update(),this.scene.objects)key.startsWith("boss")&&this.scene.objects[key].forEach(function(obj){_this3.collidesWith(obj)&&obj.active&&!_this3.shieldActive&&_this3.hit()})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Player}();addShoot(Player),addShield(Player),addDash(Player),addSpecials(Player),trapInBounds(Player),module.exports=Player},{"../Entity":3,"../trapInBounds":35,"./BulletContainer":27,"./ClearRadius":28,"./Dash":29,"./Meter":30,"./Shield":32,"./Shoot":33,"./Specials":34}],32:[function(require,module,exports){"use strict";var decorate=require("../../utils").decorate;module.exports=function(player){player.prototype.shieldActive=!1,player.prototype.canHit=function(){return!this.shieldActive};var shieldTimer=0,i=0;player.prototype.update=decorate(player.prototype.update,function(){i=!this.scene.game.controller.pressingButton("shield")||this.scene.game.controller.buttonHeld("shield")||this.scene.game.controller.pressingButton("shoot")?0:(2===i&&this.meter.useBars(1)&&(this.shieldSFX.play(),this.spriteShield.visible=!0,this.shieldActive=!0,shieldTimer+=120),(i+1)%60),this.shieldActive&&0<shieldTimer?(shieldTimer<=10?this.spriteShield.visible=shieldTimer%2!=0:shieldTimer<=60&&(this.spriteShield.visible=shieldTimer%5!=0),shieldTimer--):(this.shieldActive=!1,this.spriteShield.visible=!1),this.spriteShield.x=this.x,this.spriteShield.y=this.y})}},{"../../utils":39}],33:[function(require,module,exports){"use strict";var decorate=require("../../utils").decorate;module.exports=function(player){var i=0;player.prototype.update=decorate(player.prototype.update,function(){i=this.scene.game.controller.pressingButton("shoot")&&!this.scene.game.controller.pressingButton("shield")?(0===i&&this.bullets.fire()&&this.shootSFX.play(),(i+1)%10):0})}},{"../../utils":39}],34:[function(require,module,exports){"use strict";var decorate=require("../../utils").decorate;module.exports=function(player){var inputBuffer=[];function is360Helper(inputBuffer){var dirs=[8,1,4,2],clockwise=!0,index=0,buffer=0,step=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=inputBuffer[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var i=_step.value;if(7<=buffer)return!1;if(step>=dirs.length)return!0;if(~dirs.indexOf(i)&&0===step)buffer=0,index=dirs.indexOf(i),step++;else{if(1===step){var next=(index+1)%dirs.length,prev=(dirs.length+index-1)%dirs.length;if(i===dirs[next]){buffer=0,index=next,step++;continue}if(i===dirs[prev]){buffer=0,clockwise=!1,index=prev,step++;continue}}else if(2===step||3===step){var _next=void 0;if(i===dirs[_next=clockwise?(index+1)%dirs.length:(dirs.length+index-1)%dirs.length]){buffer=0,index=_next,step++;continue}}buffer++}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return!1}player.prototype.update=decorate(player.prototype.update,function(){var dirBits=0;dirBits=((dirBits=((dirBits=((dirBits=(dirBits<<1)+this.scene.game.controller.pressingButton("up"))<<1)+this.scene.game.controller.pressingButton("down"))<<1)+this.scene.game.controller.pressingButton("left"))<<1)+this.scene.game.controller.pressingButton("right"),inputBuffer.push(dirBits),28<inputBuffer.length&&inputBuffer.splice(0,1),this.scene.game.controller.pressingButton("shoot")&&(function(){for(var i=0;i<inputBuffer.length;i++)if(is360Helper(inputBuffer.slice(i)))return!0;return!1}()&&this.meter.useBars(2)&&this.special.use(),inputBuffer.length=0)})}},{"../../utils":39}],35:[function(require,module,exports){"use strict";var decorate=require("../utils").decorate;module.exports=function(entity){entity.prototype.update=decorate(entity.prototype.update,function(){var w=Math.round(this.width/2),h=Math.round(this.height/2);this.x<w?this.x=w:this.x>this.scene.game.canvas.width-w&&(this.x=this.scene.game.canvas.width-w),this.y<h?this.y=h:this.y>this.scene.game.canvas.height-h&&(this.y=this.scene.game.canvas.height-h),this.updateSprite()})}},{"../utils":39}],36:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var MainMenu=require("./scenes/MainMenu"),GameScene=require("./scenes/Game"),Controller=require("./Controller");new(function(_Phaser$Game){function Game(config){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Game),(_this=_possibleConstructorReturn(this,_getPrototypeOf(Game).call(this,config))).controller=new Controller;var buttonConfig=localStorage.getItem("buttonConfig");if(buttonConfig)try{for(var button in buttonConfig=JSON.parse(buttonConfig))_this.controller.changeKey(button,buttonConfig[button])}catch(e){console.log(e)}return _this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Game,Phaser.Game),Game}())({type:Phaser.AUTO,width:360,height:640,backgroundColor:16777215,scene:[MainMenu,GameScene],disableContextMenu:!0})},{"./Controller":1,"./scenes/Game":37,"./scenes/MainMenu":38}],37:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var Background=require("../entities/Background"),Boss=require("../entities/boss/Boss"),Player=require("../entities/player/Player"),Timer=require("../entities/Timer");module.exports=function(_Phaser$Scene){function _class(){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,_class),(_this=_possibleConstructorReturn(this,_getPrototypeOf(_class).call(this,{key:"Game",active:!1}))).objects={},_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(_class,Phaser.Scene),Constructor=_class,(protoProps=[{key:"addObject",value:function(key,obj){key in this.objects?this.objects[key].push(obj):this.objects[key]=[obj]}},{key:"destroyObjects",value:function(){for(var k in this.objects)delete this.objects[k]}},{key:"init",value:function(data){this.disableBackground=data.disableBackground}},{key:"preload",value:function(){this.disableBackground||Background.loadAssets(this),this.load.image("menuBox","assets/menu/menuBox.png"),this.load.spritesheet("menuCursor","assets/menu/menuCursor.png",{frameWidth:280,frameHeight:27}),this.load.audio("menuSelect",["assets/audio/menuSelect.mp3","assets/audio/menuSelect.ogg"]),this.load.audio("menuClick",["assets/audio/menuClick.mp3","assets/audio/menuClick.ogg"]),Boss.loadAssets(this),Player.loadAssets(this)}},{key:"create",value:function(){this.sound.setVolume(.25),this.menuSelect=this.sound.add("menuSelect"),this.menuClick=this.sound.add("menuClick"),this.disableBackground||(this.background=new Background(this)),this.timer=new Timer(this),this.player=new Player(this,180,500),this.boss=new Boss(this,180,100)}},{key:"update",value:function(){this.disableBackground||this.background.update(),this.timer.update(),this.boss.update(),this.player.update()}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),_class}()},{"../entities/Background":2,"../entities/Timer":4,"../entities/boss/Boss":5,"../entities/player/Player":31}],38:[function(require,module,exports){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0!==self)return self;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}module.exports=function(_Phaser$Scene){function _class(){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,_class),(_this=_possibleConstructorReturn(this,_getPrototypeOf(_class).call(this,{key:"MainMenu",active:!0}))).shipI=0,_this.shipIMax=20,_this.shipY=195,_this.i=0,_this.ix=10,_this.menuEnum={main:0,config:1,howto:2},_this.changingKey=!1,_this.buttonToChange=null,_this}var Constructor,protoProps,staticProps;return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(_class,Phaser.Scene),Constructor=_class,(protoProps=[{key:"preload",value:function(){this.load.image("menuBox","assets/menu/menuBox.png"),this.load.image("updown","assets/menu/updown.png"),this.load.image("title","assets/menu/title.png"),this.load.image("ship","assets/menu/ship.png"),this.load.image("howto360","assets/menu/360.png"),this.load.spritesheet("menuCursor","assets/menu/menuCursor.png",{frameWidth:280,frameHeight:27}),this.load.audio("menuSelect",["assets/audio/menuSelect.mp3","assets/audio/menuSelect.ogg"]),this.load.audio("menuBack",["assets/audio/menuBack.mp3","assets/audio/menuBack.ogg"]),this.load.audio("menuClick",["assets/audio/menuClick.mp3","assets/audio/menuClick.ogg"])}},{key:"create",value:function(){var _this$cursorPositions,_this$cursorPosition,_this2=this;this.sound.setVolume(.25),this.menuSelect=this.sound.add("menuSelect"),this.menuBack=this.sound.add("menuBack"),this.menuClick=this.sound.add("menuClick");var centerX=this.game.canvas.width/2;this.ship=this.add.sprite(centerX,this.shipY,"ship"),this.add.sprite(centerX-3,this.game.canvas.height/8,"title");var menuY=this.game.canvas.height/3*2;this.menuBox=this.add.sprite(centerX,menuY,"menuBox"),this.graphics=this.add.graphics({fillStyle:{color:16777215},lineStyle:{color:0}}),this.menu=this.menuEnum.main,this.cursorPositionsY=(_defineProperty(_this$cursorPositions={},this.menuEnum.main,[320,389,461]),_defineProperty(_this$cursorPositions,this.menuEnum.config,[555,310,350,390,430,470,510]),_defineProperty(_this$cursorPositions,this.menuEnum.howto,[555]),_this$cursorPositions),this.cursorPosition=(_defineProperty(_this$cursorPosition={},this.menuEnum.main,0),_defineProperty(_this$cursorPosition,this.menuEnum.config,1),_defineProperty(_this$cursorPosition,this.menuEnum.howto,0),_this$cursorPosition),this.createAnimations(),this.menuCursor=this.add.sprite(centerX,this.cursorPositionsY[this.menu][this.cursorPosition[this.menu]],"menuCursor"),this.menuCursor.anims.play("menuCursorAnimation"),this.menuObjects=[],this.drawMenu(),this.add.text(this.game.canvas.width-5,this.game.canvas.height-5,"made by Tyson Ngo",{fontFamily:"Kong Text",fontSize:"8.5pt",fill:"#000",backgroundColor:"#fff"}).setOrigin(1),this.input.keyboard.on("keydown",function(e){if(_this2.changingKey){if(_this2.changingKey=!1,"Escape"===e.code)return _this2.menuBack.play(),_this2.drawMenu(_this2.menu);_this2.menuClick.play(),_this2.game.controller.changeKey(_this2.buttonToChange,e.code),localStorage.setItem("buttonConfig",JSON.stringify({up:_this2.game.controller.getKey("up"),down:_this2.game.controller.getKey("down"),left:_this2.game.controller.getKey("left"),right:_this2.game.controller.getKey("right"),shoot:_this2.game.controller.getKey("shoot"),shield:_this2.game.controller.getKey("shield")})),_this2.drawMenu(_this2.menu)}else _this2.game.controller.press(e.code)}),this.input.keyboard.on("keyup",function(e){_this2.game.controller.release(e.code),_this2.i=0})}},{key:"createAnimations",value:function(){this.anims.create({key:"menuCursorAnimation",frames:this.anims.generateFrameNumbers("menuCursor",{start:0,end:2}),frameRate:6,repeat:-1})}},{key:"removeAnimations",value:function(){this.anims.remove("menuCursorAnimation")}},{key:"moveCursor",value:function(){this.menuCursor.y=this.cursorPositionsY[this.menu][this.cursorPosition[this.menu]]}},{key:"drawMenu",value:function(){var _this$menuObjects,_this$menuObjects2,_this$menuObjects3,menu=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;switch(this.graphics.clear(),this.menuObjects.forEach(function(o){o.destroy()}),this.menu=menu,this.menu){case this.menuEnum.main:(_this$menuObjects=this.menuObjects).push.apply(_this$menuObjects,_toConsumableArray(this.drawMenuBoxes())),this.menuObjects.push(this.add.sprite(145,538,"updown"));var style={fontFamily:"Kong Text",fontSize:"8.5pt",fill:"#000",backgroundColor:"#fff"};this.menuObjects.push(this.add.text(125,505,this.game.controller.getKey("up"),style)),this.menuObjects.push(this.add.text(125,560,this.game.controller.getKey("down"),style)),this.menuObjects.push(this.add.text(196,533,this.game.controller.getKey("shoot"),style));break;case this.menuEnum.config:(_this$menuObjects2=this.menuObjects).push.apply(_this$menuObjects2,_toConsumableArray(this.drawMenuBoxes()));break;case this.menuEnum.howto:(_this$menuObjects3=this.menuObjects).push.apply(_this$menuObjects3,_toConsumableArray(this.drawMenuBoxes()))}}},{key:"drawMenuBoxes",value:function(){var box,boxes=[],style={fontFamily:"Kong Text",fill:"#000",backgroundColor:"#fff"};switch(this.menu){case this.menuEnum.main:box=[190,60,290,70],boxes.push(this.drawMenuBox.apply(this,[0,"START"].concat(_toConsumableArray(box)))),boxes.push(this.drawMenuBox.apply(this,[1,"CONFIG"].concat(_toConsumableArray(box)))),boxes.push(this.drawMenuBox.apply(this,[2,"HOW TO PLAY"].concat(_toConsumableArray(box))));break;case this.menuEnum.config:box=[190,30,533,-40],boxes.push(this.drawMenuBox(0,"BACK",190,40,533,70));for(var text=[null,"UP","DOWN","LEFT","RIGHT","SHOOT","SHIELD"],i=1;i<this.cursorPositionsY[this.menu].length;i++)this.drawMenuBox.apply(this,[i,""].concat(_toConsumableArray(box))),style.fontSize="13px",boxes.push(this.add.text(130,this.cursorPositionsY[this.menu][i],text[i],style).setOrigin(.5)),style.fontSize="8px",boxes.push(this.add.text(180,this.cursorPositionsY[this.menu][i]-3,this.game.controller.getKey(text[i].toLowerCase()),style));break;case this.menuEnum.howto:box=[190,40,533,70],boxes.push(this.drawMenuBox.apply(this,[0,"BACK"].concat(_toConsumableArray(box)))),this.drawMenuBox(1,"",190,230,290,0),style.fontSize="8px",boxes.push(this.add.text(90,300,"SURVIVE AS LONG\nAS POSSIBLE.\n\ncontrols:\n  UP     (".concat(this.game.controller.getKey("up"),")\n  DOWN   (").concat(this.game.controller.getKey("down"),")\n  LEFT   (").concat(this.game.controller.getKey("left"),")\n  RIGHT  (").concat(this.game.controller.getKey("right"),")\n  SHOOT  (").concat(this.game.controller.getKey("shoot"),")\n  SHIELD (").concat(this.game.controller.getKey("shield"),")\n\nSHOOT UP TO 5 BULLETS\nAT A TIME.\n\nSHIELD MAKES YOU\nINVULNERABLE FOR A\nSHORT TIME AT A\nCOST OF 25% METER.\n\nSHIELD+SHOOT TO DASH\n\n    360+SHOOT TO CLEAR\n    OUT NEARBY ENEMY\n    PROJECTILES AT A\n    COST OF 50% METER.\n\nMETER IS BUILT WHEN\nA BULLET HITS THE\nENEMY.\n"),style)),boxes.push(this.add.sprite(105,461,"howto360"))}return boxes}},{key:"drawMenuBox",value:function(menuPos,text,boxWidth,boxHeight,boxFirstY,boxYOffset){this.game.canvas.height;var _this$graphics,_this$graphics2,centerX=this.game.canvas.width/2,box=[centerX-boxWidth/2,boxFirstY+boxYOffset*menuPos,boxWidth,boxHeight];if((_this$graphics=this.graphics).fillRect.apply(_this$graphics,box),(_this$graphics2=this.graphics).strokeRect.apply(_this$graphics2,box),text)return this.add.text(centerX,this.cursorPositionsY[this.menu][menuPos],text,{fontFamily:"Kong Text",fill:"#000",backgroundColor:"#fff"}).setOrigin(.5)}},{key:"update",value:function(){if(this.ship.y=this.shipY+7*Math.sin(.1*this.shipI++/Math.PI),!this.changingKey&&(this.game.controller.pressingButton("down")&&1<this.cursorPositionsY[this.menu].length&&(0===this.i&&(this.cursorPosition[this.menu]=(this.cursorPosition[this.menu]+1)%this.cursorPositionsY[this.menu].length,this.menuSelect.play()),this.i=(this.i+1)%this.ix),this.game.controller.pressingButton("up")&&1<this.cursorPositionsY[this.menu].length&&(0===this.i&&(this.cursorPosition[this.menu]=(this.cursorPosition[this.menu]+this.cursorPositionsY[this.menu].length-1)%this.cursorPositionsY[this.menu].length,this.menuSelect.play()),this.i=(this.i+1)%this.ix),this.moveCursor(),this.game.controller.pressingButton("shoot"))){if(0===this.i)if(this.menu===this.menuEnum.main)switch(this.menuClick.play(),this.cursorPosition[this.menu]){case 0:this.removeAnimations(),this.game.controller.releaseAll(),this.scene.start("Game");break;case 1:this.drawMenu(this.menuEnum.config);break;case 2:this.drawMenu(this.menuEnum.howto)}else if(this.menu===this.menuEnum.config){var buttons=[null,"up","down","left","right","shoot","shield"];switch(this.cursorPosition[this.menu]){case 0:this.cursorPosition[this.menu]=1,this.drawMenu(this.menuEnum.main),this.menuBack.play();break;case 1:case 2:case 3:case 4:case 5:case 6:this.menuClick.play(),this.graphics.fillRect(50,135,this.game.canvas.width-100,150),this.graphics.strokeRect(50,135,this.game.canvas.width-100,150),this.menuObjects.push(this.add.text(80,165,"Press a key\nto change the\n'".concat(buttons[this.cursorPosition[this.menu]],"' button\n\nESC to cancel"),{fontFamily:"Kong Text",fill:"#000",backgroundColor:"#fff"})),this.changingKey=!0,this.buttonToChange=buttons[this.cursorPosition[this.menu]]}}else this.menu===this.menuEnum.howto&&(this.drawMenu(this.menuEnum.main),this.menuBack.play());this.i=(this.i+1)%this.ix}}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),_class}()},{}],39:[function(require,module,exports){"use strict";module.exports={decorate:function(fn,cb){return function(){fn.apply(this,arguments),cb.apply(this,arguments)}}}},{}]},{},[36]);